import{j as i,u as C,r as q,B as F,h as o,a2 as y,E as M,p as S,aP as B,Q as k,g as x,i as O,z as T}from"./index.8c81e01d.js";import{h as V}from"./QSelect.35c9abdc.js";import{b as z,d as E,f as N}from"./use-prevent-scroll.a283a3f9.js";const R=["top","right","bottom","left"],$={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>R.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function P(e,a){return{formClass:i(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:i(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:i(()=>{if(e.externalLabel===!0){const s=e.hideLabel===null?a.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(s===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const W=["up","right","down","left"],D=["left","center","right"];var G=C({name:"QFab",props:{...$,...z,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>W.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>D.includes(e)}},emits:E,setup(e,{slots:a}){const s=q(null),l=q(e.modelValue===!0),c=V(),{proxy:{$q:r}}=x(),{formClass:u,labelProps:d}=P(e,l),b=i(()=>e.persistent!==!0),{hide:f,toggle:v}=N({showing:l,hideOnRouteChange:b}),t=i(()=>({opened:l.value})),L=i(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${u.value}`+(l.value===!0?" q-fab--opened":" q-fab--closed")),j=i(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${l.value===!0?"opened":"closed"}`),I=i(()=>{const n={id:c.value,role:"menu"};return l.value!==!0&&(n["aria-hidden"]="true"),n}),Q=i(()=>`q-fab__icon-holder  q-fab__icon-holder--${l.value===!0?"opened":"closed"}`);function g(n,h){const _=a[n],m=`q-fab__${n} absolute-full`;return _===void 0?o(k,{class:m,name:e[h]||r.iconSet.fab[h]}):o("div",{class:m},_(t.value))}function w(){const n=[];return e.hideIcon!==!0&&n.push(o("div",{class:Q.value},[g("icon","icon"),g("active-icon","activeIcon")])),(e.label!==""||a.label!==void 0)&&n[d.value.action](o("div",d.value.data,a.label!==void 0?a.label(t.value):[e.label])),S(a.tooltip,n)}return F(B,{showing:l,onChildClick(n){f(n),s.value!==null&&s.value.$el.focus()}}),()=>o("div",{class:L.value},[o(y,{ref:s,class:u.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":c.value,onClick:v},w),o("div",{class:j.value,...I.value},M(a.default))])}});const A={start:"self-end",center:"self-center",end:"self-start"},H=Object.keys(A);var J=C({name:"QFabAction",props:{...$,icon:{type:String,default:""},anchor:{type:String,validator:e=>H.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:a,emit:s}){const l=O(B,()=>({showing:{value:!0},onChildClick:T})),{formClass:c,labelProps:r}=P(e,l.showing),u=i(()=>{const t=A[e.anchor];return c.value+(t!==void 0?` ${t}`:"")}),d=i(()=>e.disable===!0||l.showing.value!==!0);function b(t){l.onChildClick(t),s("click",t)}function f(){const t=[];return a.icon!==void 0?t.push(a.icon()):e.icon!==""&&t.push(o(k,{name:e.icon})),(e.label!==""||a.label!==void 0)&&t[r.value.action](o("div",r.value.data,a.label!==void 0?a.label():[e.label])),S(a.default,t)}const v=x();return Object.assign(v.proxy,{click:b}),()=>o(y,{class:u.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:d.value,onClick:b},f)}});export{G as Q,J as a};
