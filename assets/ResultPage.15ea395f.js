import{d as Pt,e as bt,f as yt,k as wt,n as Mt,i as Fe,j as De,g as Nt,t as Ht,Q as It,r as Bt,l as Et,s as Ot,o as Rt,p as gt,q as Tt}from"./tooltip.3ed23294.js";import{c as Vt,k as he,h as Dt,g as At,aH as $t,r as C,aM as qt,a as Ft,aN as it,F as ye,R as Ke,J as c,H as P,K as j,T as St,ac as et,M as ze,ai as Qt,am as Lt,I as Le,N as Qe,Q as Xe,L as je,O as zt,G as Je,aO as kt,P as Ze,o as jt,b as Ut}from"./index.2b908ba5.js";import{a as Gt,Q as Kt}from"./QPage.8a840ac7.js";import{a as Xt,c as Yt,j as _t,k as Ct}from"./QItem.00e6fe73.js";import"./use-timeout.b6df1cb5.js";const Wt={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},rt={xs:2,sm:4,md:8,lg:16,xl:24};var Ge=Vt({name:"QSeparator",props:{...Xt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(h){const O=At(),t=Yt(h,O.proxy.$q),n=he(()=>h.vertical===!0?"vertical":"horizontal"),te=he(()=>` q-separator--${n.value}`),g=he(()=>h.inset!==!1?`${te.value}-${Wt[h.inset]}`:""),J=he(()=>`q-separator${te.value}${g.value}`+(h.color!==void 0?` bg-${h.color}`:"")+(t.value===!0?" q-separator--dark":"")),p=he(()=>{const o={};if(h.size!==void 0&&(o[h.vertical===!0?"width":"height"]=h.size),h.spaced!==!1){const r=h.spaced===!0?`${rt.md}px`:h.spaced in rt?`${rt[h.spaced]}px`:h.spaced,y=h.vertical===!0?["Left","Right"]:["Top","Bottom"];o[`margin${y[0]}`]=o[`margin${y[1]}`]=r}return o});return()=>Dt("hr",{class:J.value,style:p.value,"aria-orientation":n.value})}});const ut=$t("production-calc",()=>{const h=C(0),O=C(0),t=C([]),n=C(0),te=C(0),g=C(0),J=C(0),p=C(0),o=C(!1),r=C(!1),y=C(!1),a=C({}),L=C({}),ne=C(!1),i=2,I=1/30,Se=1/(60*30),Ne=1e4;function pe(S={},B,k,u,x,l=[]){const f=S.ingredientPercentage;let e=1;B==="\uC2DD\uC7AC\uB8CC \uB3C4\uC6B0\uBBF8 \uD655\uB960 \u25B2\u25B2"?e=u:k==="\uC2DD\uC7AC\uB8CC \uB3C4\uC6B0\uBBF8 \uD655\uB960 \u25BD\u25BD"&&(e=x);let d=1;for(let s=0;s<l.length;s++)(l[s].label==="\uC2DD\uC7AC\uB8CC \uD655\uB960 \uC5C5 M"||l[s].label==="\uC2DD\uC7AC\uB8CC \uD655\uB960 \uC5C5 s")&&(d+=l[s].mult);return f*e*d/100}function se(S={},B,k,u,x,l=[]){const f=S.skillPercentage,e=B==="\uBA54\uC778 \uC2A4\uD0AC \uBC1C\uB3D9\uB960 \u25B2\u25B2"?u:k==="\uBA54\uC778 \uC2A4\uD0AC \uBC1C\uB3D9\uB960 \u25BD\u25BD"?x:1;let d=1;for(let s=0;s<l.length;s++)(l[s].label==="\uC2A4\uD0AC \uD655\uB960 \uC5C5 M"||l[s].label==="\uC2A4\uD0AC \uD655\uB960 \uC5C5 s")&&(d+=l[s].mult);return f*e*d/100}function _e(S,B,k,u,x,l,f,e=[],d={},s,E){const U=B==="\uB3C4\uC6B0\uBBF8 \uC2A4\uD53C\uB4DC \u25B2\u25B2"?u:k==="\uB3C4\uC6B0\uBBF8 \uC2A4\uD53C\uB4DC \u25BD\u25BD"?x:1,w=l*f;let _=0;for(let m=0;m<e.length;m++)(e[m].label==="\uB3C4\uC6B0\uBBF8 \uC2A4\uD53C\uB4DC M"||e[m].label==="\uB3C4\uC6B0\uBBF8 \uC2A4\uD53C\uB4DC s")&&(_+=e[m].mult);_=_+w>=s?s:_+w;const G=(501-S)/500*U*(1-_),R=E?.8:1;return d.frequency*G*Se*R}function Ce(S,B,k,u,x,l,f,e,d,s,E,U,w,_,G,R="",m,T,$,Q,M,K,V,be,He,q,b,Z,we=0,Ie=[],oe=0,Be="",Ae="",D="",le=""){t.value=[];let X=Z.skill.amount[G-1],F=E.skill.amount[s-1],me=!1,$e=1;E.skill.name.includes("Charge Energy")?(me=!0,$e=1):E.skill.name.includes("Energizing Cheer")?(me=!0,$e=5):E.skill.name.includes("Metronome")&&(me=!0,$e=1,m!=="proVer"?F=(B.amount[s-1]+k.amount[s-1]/5+S.amount[s-1])/(u-1):F=1e4);let ft=R.split(":");const Ee=parseInt(ft[0],10),Oe=parseInt(ft[1],10),Re=24*i-Ee*i-Oe*I,tt=Re-1,at=tt-Math.floor((Re-7*i)/2),vt=at-6*i;function lt(ee){for(const ve of U)if(ee>=ve.e)return ve.m}let ot=1;Q==="\uAE30\uB825 \uD68C\uBCF5\uB7C9 \u25B2\u25B2"?(ot=K,X=Math.floor(X*K),F=Math.floor(F*K)):M==="\uAE30\uB825 \uD68C\uBCF5\uB7C9 \u25BD\u25BD"&&(ot=V,X=Math.floor(X*V),F=Math.floor(F*V));const dt=be*He+1;let ce=100/($/i)*(Ee*i+Oe*I)*ot*dt;ce=ce>100?100:Math.floor(ce);function fe(ee){return ee>_?_:ee}if(m!=="proVer"){let v=function(N,re=1,ge=X){let de=0;switch(m!=="lightVer"&&(ge=0),N===0?de=ce+ge:t.value[t.value.length-1].y<=0?de=ge*re:de=t.value[t.value.length-1].y+ge*re-Math.floor(q/i),de){case de>_:return _;case de<0:return 0;default:return de}};t.value.push({x:0,y:ce});const ee=Math.floor(Re/T);let ve=1;me&&(ve=Math.round(T*(E.skillPercentage/Z.skillPercentage)*(Z.frequency/E.frequency)/$e));const Me=Math.floor(Re/ve);let qe=T;for(let N=0;N<Re+1;N++){let re=v(N,0);if(t.value.push({x:N,y:re}),N===0&&(qe-=1),(N===vt||N===at||N===tt)&&t.value.push({x:N,y:fe(re+lt(re))}),m==="lightVer"&&N>0){if(me&&N%Me===0&&ve>0){let ge=v(N,1,F);t.value.push({x:N,y:fe(ge)}),ve-=1}if(N%ee===0&&qe>0){let ge=v(N);t.value.push({x:N,y:fe(ge)}),qe-=1}}}}else if(m==="proVer"){let re=function(H,A,ie){let z=ie>_?_:ie;H>0?t.value[A].y=(t.value[A].y*H+z)/(H+1):t.value.push({x:A,y:z})},ge=function(H){let A=0;return v>0&&(v=v-1*(q/i),v>_&&(v=_)),v<=0&&(v=0),t.value[H-1].y>0&&(A=t.value[H-1].y-1*(q/i),A>_&&(A=_)),A<0?0:A},de=function(){if(E.skill.name.includes("Metronome")){let H=0;const A=Math.random();if(A<1/(u-1))H=F*B.amount[s-1]/1e4;else if(A<2/(u-1)){const ie=Math.random();ie<1/5?H=F*k.amount[s-1]/1e4:ie<2/5&&(v+=k.amount[s-1]*(ee/Z.skill.amount[G-1]))}else A<3/(u-1)?(H=F*S.amount[s-1]/1e4,v+=S.amount[s-1]*(ee/Z.skill.amount[G-1])):H=0;return H=Math.floor(H),v=fe(Math.floor(v)),H}else return F},ee=Z.skill.amount[G-1],ve=1;D==="\uAE30\uB825 \uD68C\uBCF5\uB7C9 \u25B2\u25B2"?(ve=K,ee=Math.floor(ee*K)):le==="\uAE30\uB825 \uD68C\uBCF5\uB7C9 \u25BD\u25BD"&&(ve=V,ee=Math.floor(ee*V));let Me=100/($/i)*(Ee*i+Oe*I)*ve*dt;Me=Me>100?100:Me;let v=Me,qe=.8,N=.4;for(let H=0;H<Ne;H++){Math.random()<qe?(v+=ee,Math.random()<N?re(H,0,fe(ce+de()+X)):re(H,0,fe(ce+X))):Math.random()<N?re(H,0,fe(ce+de())):re(H,0,fe(ce));let A=O.value,ie=h.value;for(let z=1;z<Re+1;z++){let Ye=function(Y){for(let W=0;W<b.length;W++)if(Y>b[W].e)return nt=b[W].e,b[W].m;return b[b.length-1].m},pt=function(Y,W,Ve){return(W-Ve)/(q/i)+Y};v=fe(v);const ht=v;let ke=ge(z),nt=0;const st=Ye(v),Te=Ye(ht);let Ue=0;if(st!==Te){let Y=pt(z-1,ht,nt)-(z-1);A=A-(Y/Te+(1-Y)/st)%O.value,Ue=Math.floor((Y/Te+(1-Y)/st)/O.value)}else A=A-1/Te%O.value,Ue=Math.floor(1/Te/O.value);if(A<=0&&(Ue+=1,A+=O.value),me){let Y=0;const W=Ye(ke),Ve=Ye(t.value[z-1].y);if(W!==Ve){let We=pt(z-1,t.value[z-1].y,nt)-(z-1);ie=ie-(We/Ve+(1-We)/W)%h.value,Y=Math.floor((We/Ve+(1-We)/W)/h.value)}else ie=ie-1/Te%O.value,Y=Math.floor(1/Te/O.value);ie<=0&&(Y+=1,ie+=h.value),(z===vt||z===at||z===tt)&&(ke+=lt(ke),v+=lt(v));const ct=1-Math.pow(1-g.value/$e,Y);Y>0&&Math.random()<ct&&(ke+=de())}const xt=1-Math.pow(1-J.value,Ue);if(Ue>0&&Math.random()<xt&&(ke+=X,v+=ee),re(H,z,fe(ke)),v=fe(v),z===Re){let Y=v,W=0;if(ke-Math.ceil(q/i*(Ee*i+Oe*I))<0?W=0:W=ke-Math.ceil(q/i*(Ee*i+Oe*I)),v-Math.ceil(q/i*(Ee*i+Oe*I))<0?v=0:v=v-Math.ceil(q/i*(Ee*i+Oe*I)),ce=W+ce>100?100:W+ce,v=v+Me>100?100:v+Me,me){const ct=ae(R,ke,b,E,l,f,x,e,d,q,w);N=1-Math.pow(1-g.value/$e,ct)}const Ve=ae(R,Y,b,Z,we,Ie,oe,Be,Ae,q,"healer",w);qe=1-Math.pow(1-J.value,Ve)}}}}}function xe(S=[],B="target",k){L.value={},S.forEach(e=>{L.value[e.m]=0});let u=0;function x(e){for(let d=0;d<S.length;d++)if(e>S[d].e)return u=S[d].e,S[d].m;return u=S[S.length-1].e,S[S.length-1].m}function l(e,d,s){return(s-t.value[e].y)/((t.value[e].y-t.value[d].y)/(t.value[e].x-t.value[d].x))+t.value[e].x}for(let e=0;e<t.value.length-1;e++)if(t.value[e].x!==t.value[e+1].x){let d=x(t.value[e+1].y),s=t.value[e].x,E=!0,U=t.value[e+1].x;B==="proVer"&&t.value[e].y<=t.value[e+1].y&&(d=x(t.value[e].y-k/i*(t.value[e+1].x-t.value[e].x)));let w=x(t.value[e].y);for(;E;)w===d?(L.value[w]+=t.value[e+1].x-s,E=!1):(U=l(e,e+1,u),L.value[w]+=U-s,w=x(u),s=U)}let f=0;for(let e in L.value)f+=L.value[e]/parseFloat(e);p.value=Math.floor(f/h.value),ne.value=!1}function ue(S,B,k=!1,u={},x,l,f,e,d,s,E,U,w,_,G){const R=ae(d,t.value[t.value.length-1].y,E,u,U,w,x,f,e,s,_);function m(T,$){let Q=0;return $<30?Q=u[`ingredient${$}`].amount:Q=u[`ingredient${$}`].find(M=>M.ingredient.longName===T).amount,k?R*n.value*Q:(p.value+R)*n.value*Q}a.value[l]=m(l,0),x>=30&&(f===l?(a.value[l]=(a.value[l]+m(f,30))/2,o.value=!1):(a.value[l]=a.value[l]/2,a.value[f]=m(f,30)/2,o.value=!0),x>=60&&(a.value[l]=a.value[l]*2/3,l===f?e!==f?(a.value[e]=m(e,60)/3,r.value=!0):(a.value[l]=a.value[l]+m(e,60)/3,r.value=!1):(a.value[f]=a.value[f]*2/3,e===l?(a.value[l]=a.value[l]+m(e,60)/3,r.value=!1):e===f?(a.value[f]=a.value[f]+m(e,60)/3,r.value=!1):(a.value[e]=m(e,60)/3,r.value=!0)))),(u.skill.unit==="ingredients"||u.skill.name==="Metronome")&&(async()=>{try{const $=await(await fetch("https://api.sleepapi.net/api/ingredient")).json(),Q=u.skill.name==="Metronome"?B-1:1,M=u.skill.name==="Metronome"?Math.ceil(S.amount[G-1]/3):Math.ceil(u.skill.amount[G-1]/3),K=1-(1-1/$.length)*(1-1/($.length-1))*(1-1/($.length-2)),V=(p.value+R)*g.value*M*K/Q;y.value=!0,a.value[l]+=V,a.value.hasOwnProperty(f)&&(a.value[f]+=V),a.value.hasOwnProperty(e)&&(a.value[e]+=V),a.value.all=V}catch(T){console.log("ing Fetch problem: "+T.message)}})()}function ae(S,B,k,u,x,l,f,e,d,s,E="target",U){let w=S.split(":");const _=parseInt(w[0],10),G=parseInt(w[1],10);let R={};k.forEach(D=>{R[D.m]=0});let m=0;function T(D){for(let le=0;le<k.length;le++)if(D>k[le].e)return m=k[le].e,k[le].m;return m=0,k[k.length-1].m}let $=T(B),Q=0,M=(B-m)/(s/i);for(;$!==k[k.length-1].m;)R[$]+=M-Q,$=T(m),Q=M,M=(B-m)/(s/i);M=_*i+G*I,R[$]+=M-Q;let K=0;for(let D in R)K+=R[D]/parseFloat(D);let V=0;E==="target"?V=Math.floor(K/h.value):V=Math.floor(K/O.value);let be=!1;const He=U?1.2:1;let q=(u.carrySize+x*5)*He;for(let D=0;D<l.length;D++)l[D].label==="\uCD5C\uB300 \uC18C\uC9C0 \uC218 \uC5C5 L"||l[D].label==="\uCD5C\uB300 \uC18C\uC9C0 \uC218 \uC5C5 M"||l[D].label==="\uCD5C\uB300 \uC18C\uC9C0 \uC218 \uC5C5 s"?q+=l[D].mult:l[D].label==="\uB098\uBB34\uC5F4\uB9E4 \uC218 s"&&(be=!0);function b(D,le){return u[`ingredient${le}`].find(F=>F.ingredient.longName===D).amount}let Z=0,we=0,Ie=0,oe=1;switch(!0){case f>=60:oe=3,Z=u.ingredient0.amount*n.value/oe,we=b(e,30)*n.value/oe,Ie=b(d,60)*n.value/oe;break;case f>=30:oe=2,Z=u.ingredient0.amount*n.value/oe,we=b(e,30)*n.value/oe;break;default:oe=1,Z=u.ingredient0.amount*n.value/oe}let Be=1;u.specialty==="berry"&&(Be+=1),be&&(Be+=1);const Ae=Be*(1-n.value);return Math.ceil(q/(Ae+Z+we+Ie))>V?V:Math.ceil(q/(Ae+Z+we+Ie))}function Pe(){h.value=0,O.value=0,t.value=[],p.value=0,n.value=0,te.value=0,g.value=0,J.value=0,o.value=!1,r.value=!1,y.value=!1,ne.value=!1,a.value={},L.value={}}return{onlyBaseSpeed:h,onlyBaseSpeedH:O,energyAxis:t,finalSpeedCount:p,finalIngProc:n,finalIngProcH:te,finalSkillProc:g,finalSkillProcH:J,checkSecondDisplay:o,checkThirdDisplay:r,checkIngSkillDisplay:y,totalIngCalc:a,timeStaying:L,calcLoading:ne,convertH:i,convertM:I,convertS:Se,simulationCount:Ne,calcIngProc:pe,calcBaseSpeed:_e,calcEnergyCurve:Ce,calcSpeedWithEner:xe,clearCalc:Pe,calcSleepSpeedCount:ae,calcLeveLIng:ue,calcSkillProc:se}});function mt(h){qt.create({color:"red-4",textColor:"white",icon:"block",message:h})}const Jt={class:"column items-center q-gutter-y-md relative-position"},Zt={class:"full-width row justify-between"},ea={class:"text-h5 text-center text-weight-bold clean-wrap"},ta=j("span",{class:"text-subtitle2"},"(\uAE30\uB313\uAC12)",-1),aa={class:"col"},la={class:"text-h5 q-py-sm"},oa={key:0,class:"col"},na={class:"text-h5 q-py-sm"},sa={key:1,class:"col"},ca={class:"text-h5 q-py-sm"},ra={key:2,class:"col"},ia={class:"row q-py-sm"},ua={class:"text-h5 no-wrap"},ma=j("div",{class:"text-subtitle1 no-wrap"},"(\uB098\uBA38\uC9C0 \uBAA8\uB4E0 \uC2DD\uC7AC\uB8CC)",-1),fa=Object.assign({name:"IngResult"},{__name:"ResultProdComponent",props:{startLoad:{type:Boolean}},setup(h,{expose:O}){const t=h,n=Pt(),te=bt(),g=yt(),J=wt(),p=Mt(),o=ut(),r=C(te.fetchImage("pkm",g.selectedPkmDex)),y=C(g.pkmName),a=g.pkmLevel,L=g.upNature,ne=g.downNature,i=n.upMult[L],I=n.downMult[ne],Se=g.hbCount,Ne=n.hbMult,pe=g.subSkills,se=n.searchPkmData("name",n.convertKorEn(y.value)),_e=n.maxHS,Ce=g.evoCount,xe=g.firstIng,ue=g.secondIng,ae=g.thirdIng,Pe=g.mainSkillLevel,S=n.mealRecovery,B=n.maxE,k=n.totalMainSkill,u=p.mainSkillLevel,x=J.sleepTime,l=p.calcVer,f=p.healSkillCount,e=n.timeForFull,d=p.upNature,s=p.downNature,E=p.pkmName,U=p.pkmLevel,w=p.subSkills,_=n.searchPkmData("name",n.convertKorEn(E)),G=g.erbCount,R=n.erbMult,m=n.enerPerHour,T=n.speedEnerMultList,$=p.evoCount,Q=["\uD55C\uB07C","1\uC77C"],M=C(Q[0]),K=C(te.fetchIcon("ing",xe.replace(/\s/g,"").toLowerCase())),V=C(te.fetchIcon("ing",ue.replace(/\s/g,"").toLowerCase())),be=C(te.fetchIcon("ing",ae.replace(/\s/g,"").toLowerCase())),He=p.secondIng,q=p.thirdIng,b=C(g.useGoodCamp),Z=he(()=>b.value?"":"invisible"),we=C(!0),Ie=he(()=>y.value+"\uC758 "+(M.value==="\uD55C\uB07C"?"\uD55C\uB07C\uB2F9":"\uD558\uB8E8")+" \uC0DD\uC0B0\uB7C9");Ft(()=>{g.hasEssential()&&o.onlyBaseSpeed===0&&(o.calcLoading=!0)}),it(async()=>{try{if(t.startLoad){let le={},X={},F={},me={};se.skill.name.includes("Metronome")&&(await n.fetchPkmData("LEAFEON"),await n.fetchPkmData("UMBREON"),await n.fetchPkmData("VAPOREON"),await n.fetchPkmData("SYLVEON"),le=n.searchPkmData("name","VAPOREON").skill,X=n.searchPkmData("name","UMBREON").skill,F=n.searchPkmData("name","LEAFEON").skill,me=n.searchPkmData("name","SYLVEON").skill),o.onlyBaseSpeed=o.calcBaseSpeed(a,L,ne,i,I,Se,Ne,pe,se,_e,b.value),o.finalSkillProc=o.calcSkillProc(se,L,ne,i,I,pe),o.finalIngProc=o.calcIngProc(se,L,ne,i,I,pe),l==="proVer"?(o.onlyBaseSpeedH=o.calcBaseSpeed(U,d,s,i,I,Se,Ne,w,_,_e,b.value),o.finalSkillProcH=o.calcSkillProc(_,d,s,i,I,w),o.finalIngProcH=o.calcIngProc(_,d,s,i,I,w),o.calcEnergyCurve(me,X,F,k,a,Ce,pe,ue,ae,Pe,se,S,b.value,B,u,x,l,f,e,L,ne,i,I,G,R,m,T,_,$,w,U,He,q,d,s)):o.calcEnergyCurve(me,X,F,k,a,Ce,pe,ue,ae,Pe,se,S,b.value,B,u,x,l,f,e,L,ne,i,I,G,R,m,T,_),o.calcSpeedWithEner(T,l,m),o.calcLeveLIng(le,k,!1,se,a,xe,ue,ae,x,m,T,Ce,pe,b.value,Pe)}}catch{et().push("prodCalc"),mt("\uC0C8\uB85C\uACE0\uCE68 \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694")}});const oe=he(()=>M.value==="\uD55C\uB07C"?Math.round(o.totalIngCalc[xe]/3):Math.round(o.totalIngCalc[xe])),Be=he(()=>M.value==="\uD55C\uB07C"?Math.round(o.totalIngCalc[ue]/3):Math.round(o.totalIngCalc[ue])),Ae=he(()=>M.value==="\uD55C\uB07C"?Math.round(o.totalIngCalc[ae]/3):Math.round(o.totalIngCalc[ae])),D=he(()=>M.value==="\uD55C\uB07C"?(o.totalIngCalc.all/3).toFixed(2):o.totalIngCalc.all.toFixed(2));return O({calcLoading:we}),(le,X)=>(ye(),Ke(St,null,[c(_t,{class:"bg-primary text-white text-center"},{default:P(()=>[c(Ct,null,{default:P(()=>[ze("\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C")]),_:1})]),_:1}),j("div",Jt,[c(Gt,{alt:"Pokemon image",src:r.value,fit:"scale-down",style:{"max-width":"300px"},"no-spinner":""},null,8,["src"]),c(Fe,{bordered:"",class:"full-width bg-googleBack"},{default:P(()=>[c(De,null,{default:P(()=>[j("div",Zt,[c(Qt,{class:Lt(Z.value),size:"xl",name:"img:images/goodcampticket.png"},{default:P(()=>[c(Nt,{"hide-delay":Le(Ht)()},{default:P(()=>[ze(" \uC88B\uC740 \uCEA0\uD504 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"]),c(It,{outlined:"",dense:"",modelValue:M.value,"onUpdate:modelValue":X[0]||(X[0]=F=>M.value=F),options:Q},null,8,["modelValue"])]),j("div",ea,[ze(Qe(Ie.value)+" ",1),ta])]),_:1}),c(Ge,{inset:""}),c(De,{class:"column q-gutter-y-md"},{default:P(()=>[j("div",aa,[c(Fe,null,{default:P(()=>[c(De,{class:"row bg-sSkill"},{default:P(()=>[c(Xe,{class:"shadow-1",color:"ingCircle",icon:K.value},null,8,["icon"]),c(Ge,{vertical:"",class:"q-mx-md"}),j("div",la,Qe(oe.value)+" \uAC1C",1)]),_:1})]),_:1})]),Le(o).checkSecondDisplay?(ye(),Ke("div",oa,[c(Fe,null,{default:P(()=>[c(De,{class:"row bg-sSkill"},{default:P(()=>[c(Xe,{class:"shadow-1",color:"ingCircle",icon:V.value},null,8,["icon"]),c(Ge,{vertical:"",class:"q-mx-md"}),j("span",na,Qe(Be.value)+" \uAC1C",1)]),_:1})]),_:1})])):je("",!0),Le(o).checkThirdDisplay?(ye(),Ke("div",sa,[c(Fe,null,{default:P(()=>[c(De,{class:"row bg-sSkill"},{default:P(()=>[c(Xe,{class:"shadow-1",color:"ingCircle",icon:be.value},null,8,["icon"]),c(Ge,{vertical:"",class:"q-mx-md"}),j("span",ca,Qe(Ae.value)+" \uAC1C",1)]),_:1})]),_:1})])):je("",!0),Le(o).checkIngSkillDisplay?(ye(),Ke("div",ra,[c(Fe,null,{default:P(()=>[c(De,{class:"row bg-sSkill no-wrap"},{default:P(()=>[c(Xe,{class:"shadow-1",color:"ingCircle",icon:"img:images/ingall.png"}),c(Ge,{vertical:"",class:"q-mx-md"}),j("div",ia,[j("div",ua,Qe(D.value)+" \uAC1C\xA0",1),ma])]),_:1})]),_:1})])):je("",!0)]),_:1})]),_:1})])],64))}}),va={class:"column items-center q-gutter-y-md relative-position"},da={class:"row"},ha=j("div",{class:"q-mx-sm"},null,-1),pa={class:"text-caption q-py-sm"},ga=j("br",null,null,-1),ka=Object.assign({name:"EnerResult"},{__name:"ResultEnergyComponent",props:{startLoad:{type:Boolean}},setup(h){const O=h,t=ut(),n=C();function te(){n.value.updateSeries([]),t.calcLoading=!0}it(async()=>{try{if(O.startLoad){const p=await kt(()=>import("./tooltip.3ed23294.js").then(function(b){return b.v}),["assets/tooltip.3ed23294.js","assets/index.2b908ba5.js","assets/index.0c458afc.css","assets/QItem.00e6fe73.js","assets/use-timeout.b6df1cb5.js"]),o=await kt(()=>import("./tooltip.3ed23294.js").then(function(b){return b.w}),["assets/tooltip.3ed23294.js","assets/index.2b908ba5.js","assets/index.0c458afc.css","assets/QItem.00e6fe73.js","assets/use-timeout.b6df1cb5.js"]),r=p.usePkmDBStore(),y=o.useInputStore(),a=o.useHealerInputStore(),L=o.useSleepTimeInputStore(),ne=C(y.pkmName),i=y.pkmLevel,I=y.upNature,Se=y.downNature,Ne=r.upMult[I],pe=r.downMult[Se],se=y.subSkills,_e=r.searchPkmData("name",r.convertKorEn(ne.value)),Ce=y.evoCount,xe=y.firstIng,ue=y.secondIng,ae=y.thirdIng,Pe=y.mainSkillLevel,S=r.mealRecovery,B=r.maxE,k=r.totalMainSkill,u=a.mainSkillLevel,x=L.sleepTime,l=a.calcVer,f=a.healSkillCount,e=r.timeForFull,d=a.upNature,s=a.downNature,E=a.pkmName,U=a.pkmLevel,w=a.subSkills,_=r.searchPkmData("name",r.convertKorEn(E)),G=y.erbCount,R=r.erbMult,m=r.enerPerHour,T=r.speedEnerMultList,$=a.evoCount;let Q={},M={},K={},V={};_e.skill.name.includes("Metronome")&&(await r.fetchPkmData("LEAFEON"),await r.fetchPkmData("UMBREON"),await r.fetchPkmData("VAPOREON"),await r.fetchPkmData("SYLVEON"),Q=r.searchPkmData("name","VAPOREON").skill,M=r.searchPkmData("name","UMBREON").skill,K=r.searchPkmData("name","LEAFEON").skill,V=r.searchPkmData("name","SYLVEON").skill);const be=a.secondIng,He=a.thirdIng,q=C(y.useGoodCamp);t.calcEnergyCurve(V,M,K,k,i,Ce,se,ue,ae,Pe,_e,S,q.value,B,u,x,l,f,e,I,Se,Ne,pe,G,R,m,T,_,$,w,U,be,He,d,s),t.calcSpeedWithEner(T,l,m),t.calcLeveLIng(Q,k,!1,_e,i,xe,ue,ae,x,m,T,Ce,se,q.value,Pe),n.value.updateSeries([{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:t.energyAxis}])}}catch{et().push("prodCalc"),mt("\uC0C8\uB85C\uACE0\uCE68 \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694")}});const g={chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},noData:{text:"\uAE30\uB825 \uACC4\uC0B0 \uC911..."},stroke:{curve:"straight"},xaxis:{title:{text:"\uC2DC\uAC04 \uACBD\uACFC (h)"},type:"numeric",labels:{formatter:function(p){return(p/2).toFixed(1)}}},yaxis:{title:{text:"\uB0A8\uC740 \uAE30\uB825\uB7C9 (%)"},labels:{formatter:function(p){return Math.floor(p)}},min:0,max:150},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#FDD835"],opacityFrom:1,opacityTo:.01,stops:[0,100,100,100]}}},J=[{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:t.energyAxis}];return(p,o)=>{const r=zt("apexchart");return ye(),Ke(St,null,[c(_t,{class:"bg-primary text-white text-center"},{default:P(()=>[c(Ct,null,{default:P(()=>[ze("\uAE30\uB825 \uBCC0\uD654 \uADF8\uB798\uD504")]),_:1})]),_:1}),j("div",va,[c(r,{ref_key:"energyChartRef",ref:n,class:"apexchart_width",type:"area",options:g,series:J},null,512),Le(t).finalSkillProcH>0?(ye(),Je(Fe,{key:0},{default:P(()=>[c(De,{class:"bg-sSkill"},{default:P(()=>[j("div",da,[c(Xe,{size:"md",class:"shadow-1",color:"secondary","text-color":"white",icon:"priority_high"}),ha,j("span",pa,[ze("\uC704 \uADF8\uB798\uD504\uB294 "+Qe(Le(t).simulationCount)+"\uD68C \uBAA8\uC758\uC2DC\uD589\uC758 \uAE30\uB313\uAC12\uC785\uB2C8\uB2E4.",1),ga,ze("\uB9E4 \uC2DC\uD589\uB9C8\uB2E4 \uACB0\uACFC\uAC00 \uB2EC\uB77C\uC9C8 \uC218 \uC788\uC2B5\uB2C8\uB2E4.")])]),c(Ze,{class:"full-width",rounded:"",label:"\uAE30\uB825 \uB2E4\uC2DC \uACC4\uC0B0\uD558\uAE30",icon:"restart_alt",color:"positive",onClick:te})]),_:1})]),_:1})):je("",!0)])],64)}}}),Pa=Object.assign({name:"ResultPage"},{__name:"ResultPage",setup(h){const O=yt(),t=ut(),n=et(),te=Bt(),g=C(!1);jt(()=>{O.hasEssential()||(et().push("/prodcalc"),mt("\uD3EC\uCF13\uBAAC \uC815\uBCF4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694"))}),Ut(()=>{t.clearCalc()}),it(()=>{if(O.hasEssential())if(t.calcLoading){Et("\uACC4\uC0B0 \uC911...");const r=te.platform.is.mobile?100:30;setTimeout(()=>{g.value=!0},r)}else g.value=!1,Ot()});const J=C(1),p=C();function o(){t.clearCalc(),n.push("/prodcalc")}return(r,y)=>(ye(),Je(Kt,{class:"row justify-center bg-googleDark relative-position"},{default:P(()=>[c(Tt,{modelValue:J.value,"onUpdate:modelValue":y[2]||(y[2]=a=>J.value=a),ref_key:"stepper",ref:p,contracted:"",color:"primary","active-icon":"none",class:"col-xs-12 col-sm-9 col-md-8 col-lg-6 col-xl-4 bg-googleBack",animated:""},{navigation:P(()=>[c(Rt,{class:"row justify-between"},{default:P(()=>[c(Ze,{push:"",icon:"refresh",color:"primary",onClick:o,label:"\uB2E4\uC2DC\uD558\uAE30","text-color":"white"}),j("div",null,[J.value>1?(ye(),Je(Ze,{key:0,flat:"",color:"primary",onClick:y[0]||(y[0]=a=>p.value.previous()),label:"\uB4A4\uB85C",class:"q-ml-sm"})):je("",!0),J.value<2?(ye(),Je(Ze,{key:1,onClick:y[1]||(y[1]=a=>p.value.next()),color:"primary",label:"\uB2E4\uC74C"})):je("",!0)])]),_:1})]),default:P(()=>[c(gt,{name:1,title:"\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C",icon:"assignment"},{default:P(()=>[c(fa,{"start-load":g.value},null,8,["start-load"])]),_:1}),c(gt,{name:2,title:"\uAE30\uB825 \uADF8\uB798\uD504",icon:"favorite"},{default:P(()=>[c(ka,{"start-load":g.value},null,8,["start-load"])]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{Pa as default};
