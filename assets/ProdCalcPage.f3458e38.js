import{c as Fe,Q as Te,a as me,b as je}from"./inputStore.9803aafc.js";import{b as qe,r as n,o as ze,j as fe,P as t,S as F,X as e,V as l,T as p,_ as i,$ as h,W as z,a3 as $,U as r,a5 as Z,aI as Me,aJ as se,k as N,a4 as ie,a6 as Ae,aK as Oe,Q as Je,Z as ee,R as U,an as Ke,aR as We}from"./index.10c8c8a3.js";import{b as Xe,a as Ze,Q as Ge}from"./QPage.dbd19486.js";import{Q as G,b as Ye,_ as el}from"./ChoosePkmComponent.0b9244e0.js";import{d as ll,e as al,a as f,c as g,Q as L}from"./QItem.3a805658.js";import{Q as P}from"./QRadio.b9347aa6.js";import{Q as pe}from"./TouchPan.da1438a9.js";import{Q as ol}from"./QImg.4144e00d.js";import{Q as Y}from"./QSelect.bc4a05ec.js";import{Q as O,a as re}from"./QFab.1c8aae2f.js";import{u as nl,a as Ve,Q as ge,t as be}from"./tooltip.d498406a.js";import{Q as ke,b as _e,a as tl,C as ul}from"./ClosePopup.f3570bee.js";import"./use-prevent-scroll.d07a8487.js";import"./touch.3df10340.js";import"./use-quasar.fb93125a.js";const sl={key:0,class:"q-mt-lg"},il=p("div",{style:{height:"5vh"}},null,-1),rl={key:1,class:"column items-center q-gutter-y-md"},dl={class:"text-center full-width"},vl={class:"q-px-md"},cl={class:"row justify-center q-gutter-x-md"},ml={class:"full-width text-center"},fl=p("div",null,"\uAD7F\uB098\uC787\uB9AC\uBCF8 \uC120\uD0DD",-1),pl=p("span",{class:"text-bold"},"\uB808\uBCA8 1",-1),gl=p("span",{class:"text-bold"},"\uB808\uBCA8 2",-1),bl=p("span",{class:"text-bold"},"\uB808\uBCA8 3",-1),kl=p("span",{class:"text-bold"},"\uB808\uBCA8 4",-1),_l={class:"row justify-end full-width"},Vl={key:2},yl=p("div",{style:{height:"5vh"}},null,-1),hl=[yl],xl=Object.assign({name:"ChooseHealerComponent"},{__name:"ChooseHealerComponent",props:{nameValid:{type:Boolean},upValid:{type:Boolean},downValid:{type:Boolean}},setup(de,{expose:J}){const I=de;qe(()=>{let v=!1;for(let o=0;o<H.value.length;o++)H.value[o].label==="\uAE30\uB825 \uD68C\uBCF5 \uBCF4\uB108\uC2A4"&&(v=!0);s.storeEverything(m.value,B.value,d.value,b.value,H.value,x.value,D.value,K.value,T.value,j.value,q.value,C.value,k.value,y.value,_.value,A.value,w.value,E.value,v,V.value)});const R=nl(),u=Ve(),s=Fe(),Q=n(u.korPkmName),m=n(s.calcVer),B=n(s.healSkillCount);s.mainSkillLevel=u.searchPkmData("kor_name","\uAC00\uB514\uC548").main_skills.max_level;const _=n(s.mainSkillLevel),S=n(6),d=n(s.pkmName);ze(async()=>{try{await u.fetchPkmData(d.value);const v=u.searchPkmData("kor_name","\uAC00\uB514\uC548");if(S.value=v.main_skills.max_level,V.value.length<1){V.value.push(v.ingredient0),V.value.push(v.ingredient30),V.value.push(v.ingredient60);for(let o=0;o<3;o++)V.value[o].forEach(a=>{a.url=`img:ingredients/${a.name}.png`})}}catch(v){console.log("healer fetch error",v)}});const y=n(s.selectedPkmDex),M=n(R.fetchImage("pkm",y.value)),b=n(s.pkmLevel),H=n(s.subSkills),C=n(s.upNature),k=n(s.downNature),x=n(s.firstIng),D=n(s.secondIng),K=n(s.thirdIng),le=n(`img:ingredients/${x.value}.png`),W=n(`img:ingredients/${D.value}.png`),X=n(`img:ingredients/${K.value}.png`),T=n(s.fixedFirstIng),j=n(s.fixedSecondIng),q=n(s.fixedThirdIng),ae=n(`img:ingredients/${T.value}.png`),oe=n(`img:ingredients/${j.value}.png`),ne=n(`img:ingredients/${q.value}.png`),V=n(s.allIngList),ye=n("\uD790\uB7EC \uD3EC\uCF13\uBAAC\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694"),he=n("\uC0C1\uC2B9 \uC131\uACA9\uC744 \uB2E4\uC2DC \uC785\uB825\uD574\uC8FC\uC138\uC694"),xe=n("\uD558\uB77D \uC131\uACA9\uC744 \uB2E4\uC2DC \uC785\uB825\uD574\uC8FC\uC138\uC694"),E=n(s.leftEvo),A=n(s.useRibbon),te=n(!1);function we(){te.value=!0}const w=n(s.ribbonLev),Ie=n(u.ribbonList[0].inventory),Ce=n(u.ribbonList[1].inventory),Qe=n(u.ribbonList[1].speed[E.value]),Se=n(u.ribbonList[2].inventory),Ne=n(u.ribbonList[2].speed[E.value]),Le=n(u.ribbonList[3].inventory),De=n(u.ribbonList[3].speed[E.value]);function Ue(){w.value=="0"?A.value=!1:A.value=!0}const ve=fe(()=>{switch(!0){case b.value<10:return 0;case b.value<25:return 1;case b.value<50:return 2;case b.value<75:return 3;case b.value<100:return 4;default:return 5}}),Pe=fe(()=>`\uC11C\uBE0C \uC2A4\uD0AC (${ve.value}\uAC1C \uC120\uD0DD)`);function ue(v,o){let a,c;switch(o){case 1:a=ae.value,c=T.value;break;case 2:a=oe.value,c=j.value;break;case 3:a=ne.value,c=q.value;break;default:return 0}v===2?(W.value=a,D.value=c):v===3&&(X.value=a,K.value=c)}async function $e(){Me("\uBD88\uB7EC\uC624\uB294 \uC911..."),await u.fetchPkmData(d.value),T.value=u.bringIng(d.value,1),j.value=u.bringIng(d.value,2),q.value=u.bringIng(d.value,3),ae.value=`img:ingredients/${T.value}.png`,oe.value=`img:ingredients/${j.value}.png`,ne.value=`img:ingredients/${q.value}.png`,le.value=ae.value,W.value=oe.value,X.value=ne.value,x.value=T.value,D.value=j.value,K.value=q.value;const v=y.value;y.value=u.findDexNum(d.value),v===y.value&&se();const o=u.searchPkmData("kor_name",d.value);V.value=[],V.value.push(o.ingredient0),V.value.push(o.ingredient30),V.value.push(o.ingredient60);for(let a=0;a<3;a++)V.value[a].forEach(c=>{c.url=`img:ingredients/${c.name}.png`});M.value=R.fetchImage("pkm",y.value),S.value=o.main_skills.max_level,se()}function Re(){b.value+=1}function Be(){b.value-=1}function He(v,o,a){o(()=>{Q.value=u.korPkmName.filter(c=>c.indexOf(v)>-1)})}function Ee(v){v.length>0&&v!==s.pkmName&&(d.value="")}return J({calcVer:m,pkmName:d,upNature:C,downNature:k}),(v,o)=>(t(),F(Z,null,[e(ll,{class:"bg-primary text-white text-center"},{default:l(()=>[e(al,null,{default:l(()=>[i("\uD790\uB7EC \uD3EC\uCF13\uBAAC \uC124\uC815")]),_:1})]),_:1}),e(pe,null,{default:l(()=>[N((t(),r(L,{tag:"label"},{default:l(()=>[e(f,{avatar:""},{default:l(()=>[e(P,{modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=a=>m.value=a),val:"lightVer",color:"secondary"},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[i("\uB77C\uC774\uD2B8")]),_:1})]),_:1})]),_:1})),[[U]]),N((t(),r(L,{tag:"label"},{default:l(()=>[e(f,{avatar:""},{default:l(()=>[e(P,{modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=a=>m.value=a),val:"proVer",color:"secondary"},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[i("\uD504\uB85C (\uC624\uB798 \uAC78\uB9BC \uC8FC\uC758)")]),_:1})]),_:1})]),_:1})),[[U]]),N((t(),r(L,{tag:"label"},{default:l(()=>[e(f,{avatar:""},{default:l(()=>[e(P,{modelValue:m.value,"onUpdate:modelValue":o[2]||(o[2]=a=>m.value=a),val:"noHealer",color:"secondary"},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[i("\uD790\uB7EC \uC5C6\uC74C")]),_:1})]),_:1})]),_:1})),[[U]])]),_:1}),m.value=="lightVer"?(t(),F("div",sl,[p("div",null,[i(" \uD558\uB8E8 \uC2A4\uD0AC \uBC1C\uB3D9 \uD69F\uC218: "+h(B.value)+" \uD68C ",1),e(G,{color:"secondary",modelValue:B.value,"onUpdate:modelValue":o[3]||(o[3]=a=>B.value=a),min:0,max:24},null,8,["modelValue"])]),p("div",null,[i(" \uBA54\uC778 \uC2A4\uD0AC \uB808\uBCA8: "+h(_.value)+" ",1),e(G,{color:"secondary",modelValue:_.value,"onUpdate:modelValue":o[4]||(o[4]=a=>_.value=a),min:1,max:S.value},null,8,["modelValue","max"])]),il])):m.value=="proVer"?(t(),F("div",rl,[e(ol,{alt:"Healer image",src:M.value,style:{"max-width":"300px"},fit:"scale-down","no-spinner":"",onLoad:o[5]||(o[5]=a=>z(se)())},null,8,["src"]),e(Y,{class:"full-width q-mt-none",filled:"",color:"secondary",modelValue:d.value,"onUpdate:modelValue":[o[6]||(o[6]=a=>d.value=a),$e],options:Q.value,label:"\uD3EC\uCF13\uBAAC \uC774\uB984",error:I.nameValid,"error-message":ye.value,hint:"\uC785\uB825\uD558\uACE0 \uC5D4\uD130\uB97C \uB20C\uB7EC\uC11C \uAC80\uC0C9",onFilter:He,onInputValue:Ee,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","hide-bottom-space":""},null,8,["modelValue","options","error","error-message"]),p("div",dl,[e($,{color:"secondary",round:"",size:"xs",icon:"remove",onClick:Be}),p("span",vl,"\uB808\uBCA8: "+h(b.value),1),e($,{color:"secondary",round:"",size:"xs",icon:"add",onClick:Re}),e(G,{color:"secondary",modelValue:b.value,"onUpdate:modelValue":o[7]||(o[7]=a=>b.value=a),min:1,max:100},null,8,["modelValue"])]),p("div",cl,[p("div",null,[d.value==""?(t(),r($,{key:0,fab:"",color:"ingCircle",icon:le.value},null,8,["icon"])):(t(),r(O,{key:1,color:"ingCircle",icon:le.value,direction:"up"},{default:l(()=>[(t(!0),F(Z,null,ie(V.value[0],(a,c)=>(t(),r(re,{key:c,color:"ingCircle",onClick:ce=>ue(1,c+1),icon:a.url},null,8,["onClick","icon"]))),128))]),_:1},8,["icon"]))]),p("div",null,[e(ge,{"hide-delay":z(be)()},{default:l(()=>[i(" \uB808\uBCA8 30 ")]),_:1},8,["hide-delay"]),b.value<30?(t(),r(O,{key:0,color:"ingCircle",icon:"lock","text-color":"teal",disable:!0,direction:"up"})):d.value==""?(t(),r($,{key:1,fab:"",color:"ingCircle",icon:W.value},null,8,["icon"])):(t(),r(O,{key:2,color:"ingCircle",icon:W.value,direction:"up"},{default:l(()=>[(t(!0),F(Z,null,ie(V.value[1],(a,c)=>(t(),r(re,{key:c,color:"ingCircle",onClick:ce=>ue(2,c+1),icon:a.url},null,8,["onClick","icon"]))),128))]),_:1},8,["icon"]))]),p("div",null,[e(ge,{"hide-delay":z(be)()},{default:l(()=>[i(" \uB808\uBCA8 60 ")]),_:1},8,["hide-delay"]),b.value<60?(t(),r(O,{key:0,color:"ingCircle",icon:"lock","text-color":"teal",disable:!0,direction:"up"})):d.value==""?(t(),r($,{key:1,fab:"",color:"ingCircle",icon:X.value},null,8,["icon"])):(t(),r(O,{key:2,color:"ingCircle",icon:X.value,direction:"up"},{default:l(()=>[(t(!0),F(Z,null,ie(V.value[2],(a,c)=>(t(),r(re,{key:c,color:"ingCircle",onClick:ce=>ue(3,c+1),icon:a.url},null,8,["onClick","icon"]))),128))]),_:1},8,["icon"]))])]),p("div",ml,[i(" \uBA54\uC778 \uC2A4\uD0AC \uB808\uBCA8: "+h(_.value)+" ",1),e(G,{color:"secondary",modelValue:_.value,"onUpdate:modelValue":o[8]||(o[8]=a=>_.value=a),min:1,max:S.value},null,8,["modelValue","max"])]),e(Y,{class:"full-width",filled:"",color:"secondary",multiple:"",modelValue:H.value,"onUpdate:modelValue":o[9]||(o[9]=a=>H.value=a),options:z(u).allSubSkillList,label:Pe.value,behavior:"dialog","max-values":ve.value},{option:l(a=>[e(L,Ae(a.itemProps,{class:a.opt.bg}),{default:l(()=>[e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[i(h(a.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040,["class"])]),"selected-item":l(a=>[e(Ze,{square:"",removable:"",onRemove:c=>a.removeAtIndex(a.index),tabindex:a.tabindex,class:Oe(a.opt.bg)},{default:l(()=>[i(h(a.opt.label),1)]),_:2},1032,["onRemove","tabindex","class"])]),_:1},8,["modelValue","options","label","max-values"]),e(Y,{class:"full-width",filled:"",color:"secondary",modelValue:C.value,"onUpdate:modelValue":o[10]||(o[10]=a=>C.value=a),options:z(u).upNatureList,label:"\uC0C1\uC2B9 \uC131\uACA9",behavior:"dialog",error:I.upValid,"error-message":he.value,"hide-bottom-space":""},null,8,["modelValue","options","error","error-message"]),e(Y,{class:"full-width",filled:"",color:"secondary",modelValue:k.value,"onUpdate:modelValue":o[11]||(o[11]=a=>k.value=a),options:z(u).downNatureList,label:"\uD558\uB77D \uC131\uACA9",behavior:"dialog",error:I.downValid,"error-message":xe.value,"hide-bottom-space":""},null,8,["modelValue","options","error","error-message"]),e(ke,{class:"bg-sSkill"},{default:l(()=>[e(_e,null,{default:l(()=>[e(Ye,{modelValue:A.value,"onUpdate:modelValue":o[12]||(o[12]=a=>A.value=a),onClick:we},{default:l(()=>[i(" \uAD7F\uB098\uC787\uB9AC\uBCF8 \uC801\uC6A9 "),e(Je,{size:"xl",name:"img:images/ribbon.png"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(Xe,{modelValue:te.value,"onUpdate:modelValue":o[18]||(o[18]=a=>te.value=a),persistent:""},{default:l(()=>[e(ke,null,{default:l(()=>[e(tl,null,{default:l(()=>[fl]),_:1}),e(_e,null,{default:l(()=>[e(pe,null,{default:l(()=>[N((t(),r(L,{tag:"label"},{default:l(()=>[e(f,{avatar:""},{default:l(()=>[e(P,{dense:"",modelValue:w.value,"onUpdate:modelValue":o[13]||(o[13]=a=>w.value=a),val:"0",color:"secondary"},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[i("\uC120\uD0DD \uC548\uD568")]),_:1})]),_:1})]),_:1})),[[U]]),N((t(),r(L,{tag:"label"},{default:l(()=>[e(f,{avatar:""},{default:l(()=>[e(P,{dense:"",modelValue:w.value,"onUpdate:modelValue":o[14]||(o[14]=a=>w.value=a),val:"1",color:"secondary"},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[pl,i(" (\uC218\uBA74 200h+)")]),_:1}),e(g,{caption:""},{default:l(()=>[i("\uCD5C\uB300 \uC18C\uC9C0\uC218 + "+h(Ie.value),1)]),_:1})]),_:1})]),_:1})),[[U]]),N((t(),r(L,{tag:"label"},{default:l(()=>[e(f,{avatar:""},{default:l(()=>[e(P,{dense:"",modelValue:w.value,"onUpdate:modelValue":o[15]||(o[15]=a=>w.value=a),val:"2",color:"secondary"},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[gl,i(" (\uC218\uBA74 500h+)")]),_:1}),e(g,{caption:""},{default:l(()=>[i("\uCD5C\uB300 \uC18C\uC9C0\uC218 + "+h(Ce.value),1)]),_:1}),E.value>0?(t(),r(g,{key:0,caption:""},{default:l(()=>[i("\uB3C4\uC6B0\uBBF8 \uC18D\uB3C4 + "+h(Qe.value)+"%",1)]),_:1})):ee("",!0)]),_:1})]),_:1})),[[U]]),N((t(),r(L,{tag:"label"},{default:l(()=>[e(f,{avatar:"",top:""},{default:l(()=>[e(P,{dense:"",modelValue:w.value,"onUpdate:modelValue":o[16]||(o[16]=a=>w.value=a),val:"3",color:"secondary"},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[bl,i(" (\uC218\uBA74 1000h+)")]),_:1}),e(g,{caption:""},{default:l(()=>[i("\uCD5C\uB300 \uC18C\uC9C0\uC218 + "+h(Se.value),1)]),_:1}),E.value>0?(t(),r(g,{key:0,caption:""},{default:l(()=>[i("\uB3C4\uC6B0\uBBF8 \uC18D\uB3C4 + "+h(Ne.value)+"%",1)]),_:1})):ee("",!0)]),_:1})]),_:1})),[[U]]),N((t(),r(L,{tag:"label"},{default:l(()=>[e(f,{avatar:"",top:""},{default:l(()=>[e(P,{dense:"",modelValue:w.value,"onUpdate:modelValue":o[17]||(o[17]=a=>w.value=a),val:"4",color:"secondary"},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[kl,i(" (\uC218\uBA74 2000h+)")]),_:1}),e(g,{caption:""},{default:l(()=>[i("\uCD5C\uB300 \uC18C\uC9C0\uC218 + "+h(Le.value),1)]),_:1}),E.value>0?(t(),r(g,{key:0,caption:""},{default:l(()=>[i("\uB3C4\uC6B0\uBBF8 \uC18D\uB3C4 + "+h(De.value)+"%",1)]),_:1})):ee("",!0)]),_:1})]),_:1})),[[U]])]),_:1}),p("div",_l,[N(e($,{label:"\uD655\uC778",color:"primary",onClick:Ue},null,512),[[ul]])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):(t(),F("div",Vl,hl))],64))}}),Fl=Object.assign({name:"ProdCalcPage"},{__name:"ProdCalcPage",setup(de){const J=Ke(),I=n(1),R=n(),u=n(),s=n(!1),Q=n(!1),m=n(!1),B=n(!1),_=n(),S=n(!1),d=n(!1),y=n(!1),M=Ve();function b(){R.value.previous()}function H(){switch(I.value){case 1:const C=u.value.upNature,k=u.value.downNature;u.value.pkmName.length===0?(s.value=!0,We("\uD3EC\uCF13\uBAAC \uC774\uB984\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694")):s.value=!1,B.value=!u.value.didSelectAllSub,C.substring(0,3)===k.substring(0,3)?C!=="\uC601\uD5A5 \uC5C6\uC74C --"?(Q.value=!0,m.value=!0):(Q.value=!1,m.value=!1):C==="\uC601\uD5A5 \uC5C6\uC74C --"||k==="\uC601\uD5A5 \uC5C6\uC74C --"||C.length==0||k.length==0?(Q.value=!0,m.value=!0):(Q.value=!1,m.value=!1),!s.value&&!Q.value&&!m.value&&R.value.next();break;case 2:if(_.value.calcVer==="proVer"){const x=_.value.upNature,D=_.value.downNature;!M.searchPkmData("kor_name",_.value.pkmName).skill.includes("Energy For Everyone")&&!M.searchPkmData("kor_name",_.value.pkmName).skill.includes("Energizing Cheer")?S.value=!0:S.value=!1,x.substring(0,3)===D.substring(0,3)?x!=="\uC601\uD5A5 \uC5C6\uC74C --"?(d.value=!0,y.value=!0):(d.value=!1,y.value=!1):x==="\uC601\uD5A5 \uC5C6\uC74C --"||D==="\uC601\uD5A5 \uC5C6\uC74C --"||x.length==0||D.length==0?(d.value=!0,y.value=!0):(d.value=!1,y.value=!1),!S.value&&!d.value&&!y.value&&J.push("/prodcalc/result")}else J.push("/prodcalc/result");break;default:R.value.next()}}return(C,k)=>(t(),r(Ge,{class:"row justify-center bg-googleDark"},{default:l(()=>[e(je,{modelValue:I.value,"onUpdate:modelValue":k[2]||(k[2]=x=>I.value=x),ref_key:"stepper",ref:R,contracted:"",color:"primary","active-icon":"none",class:"col-xs-12 col-sm-9 col-md-8 col-lg-6 col-xl-6 bg-googleBack",animated:""},{navigation:l(()=>[e(Te,{class:"row justify-end"},{default:l(()=>[I.value>1?(t(),r($,{key:0,flat:"",color:"primary",onClick:k[0]||(k[0]=x=>b()),label:"\uB4A4\uB85C",class:"q-ml-sm"})):ee("",!0),e($,{onClick:k[1]||(k[1]=x=>H()),color:"primary",label:I.value===2?"\uACB0\uACFC\uBCF4\uAE30":"\uB2E4\uC74C"},null,8,["label"])]),_:1})]),default:l(()=>[e(me,{name:1,title:"\uD3EC\uCF13\uBAAC \uC815\uBCF4 \uC785\uB825",icon:"edit",done:I.value>1},{default:l(()=>[e(el,{ref_key:"validateFirst",ref:u,"name-valid":s.value,"sub-valid":B.value,"down-valid":Q.value,"up-valid":m.value},null,8,["name-valid","sub-valid","down-valid","up-valid"])]),_:1},8,["done"]),e(me,{name:2,title:"Create an ad",icon:"favorite",done:I.value>2},{default:l(()=>[e(xl,{ref_key:"validateThird",ref:_,"name-valid":S.value,"down-valid":d.value,"up-valid":y.value},null,8,["name-valid","down-valid","up-valid"])]),_:1},8,["done"])]),_:1},8,["modelValue"])]),_:1}))}});export{Fl as default};
