import{u as be,d as Oe,c as Qe,Q as Be,a as Ce,b as Re}from"./inputStore.4d7724f8.js";import{r as m,m as U,a as Te,aP as _e,G as E,T as re,K as e,I as l,L as r,V as Pe,N as F,al as Fe,aB as qe,J as G,O as j,S as z,Q as ie,M as K,s as Ae,R as $e,H as he,aQ as Ie,ag as we,o as Ue,aO as je,b as Ge,az as ze,aA as Ke}from"./index.9a70fe3f.js";import{a as Ye,Q as We}from"./QPage.5a7ab438.js";import{d as xe,e as Ee}from"./QItem.98dbc3c0.js";import{a as Je,u as Xe,Q as Ze,t as et,b as tt}from"./tooltip.476859b1.js";import{Q as at}from"./QSelect.1416e79d.js";import{Q as T,a as L}from"./QCardSection.a5f9b982.js";import{Q as ce}from"./QSeparator.45986345.js";import{Q as lt}from"./QSpace.3302c112.js";import{Q as ot,C as st}from"./ClosePopup.71bf203f.js";import{a as nt}from"./QDialog.b6b4ff91.js";import{u as ye}from"./finalCalcStore.4f43ab52.js";import"./use-panel.16cb0d19.js";import"./touch.3df10340.js";import"./selection.d0840c57.js";const ct={class:"column items-center q-gutter-y-md relative-position"},rt={class:"full-width row justify-between"},it={class:"text-h5 text-center text-weight-bold clean-wrap"},ut=r("span",{class:"text-subtitle2"},"(\uAE30\uB313\uAC12)",-1),mt={class:"col"},dt={class:"text-h5 q-py-sm"},pt={key:0,class:"col"},gt={class:"text-h5 q-py-sm"},kt={key:1,class:"col"},ft={class:"text-h5 q-py-sm"},ht={key:2,class:"col"},vt={class:"row q-py-sm"},St={class:"text-h5 no-wrap"},_t=r("div",{class:"text-subtitle1 no-wrap"},"(\uB098\uBA38\uC9C0 \uBAA8\uB4E0 \uC2DD\uC7AC\uB8CC)",-1),yt=r("div",null,"\uB3C4\uC6C0\uB9D0",-1),Ct=r("span",{class:"text-bold"},' "\uC218\uBA74 + \uD65C\uB3D9\uC2DC\uAC04"',-1),It=Object.assign({name:"IngResult"},{__name:"ResultProdComponent",props:{startLoad:{type:Boolean}},setup(ue){const q=ue,a=Je(),h=Xe(),c=be(),D=Oe(),i=Qe(),t=ye(),v=m(!1),o=m(h.fetchImage("pkm",c.selectedPkmDex)),s=m(c.pkmName),n=c.pkmLevel,S=c.upNature,_=c.downNature,d=a.upMult[S],p=a.downMult[_],Y=c.hbCount,me=a.hbMult,y=c.subSkills,u=a.searchPkmData("name",a.convertKorEn(s.value)),A=a.maxHS,H=c.evoCount,$=c.firstIng,C=c.secondIng,I=c.thirdIng,M=c.mainSkillLevel,W=a.mealRecovery,J=a.maxE,V=a.totalMainSkill,X=i.mainSkillLevel,O=D.sleepTime,g=i.calcVer,Z=i.healSkillCount,ee=a.timeForFull,Q=i.upNature,B=i.downNature,ve=i.pkmName,te=i.pkmLevel,R=i.subSkills,N=a.searchPkmData("name",a.convertKorEn(ve)),ae=c.erbCount,le=a.erbMult,w=a.enerPerHour,b=a.speedEnerMultList,de=i.evoCount,oe=["\uD55C\uB07C","1\uC77C"],P=m(oe[0]),pe=m(h.fetchIcon("ing",$.replace(/\s/g,"").toLowerCase())),ge=m(h.fetchIcon("ing",C.replace(/\s/g,"").toLowerCase())),Se=m(h.fetchIcon("ing",I.replace(/\s/g,"").toLowerCase())),ke=i.secondIng,se=i.thirdIng,k=m(c.useGoodCamp),De=U(()=>k.value?"":"invisible"),Ne=U(()=>s.value+"\uC758 "+(P.value==="\uD55C\uB07C"?"\uD55C\uB07C\uB2F9":"\uD558\uB8E8")+" \uC0DD\uC0B0\uB7C9");Te(()=>{c.hasEssential()&&t.onlyBaseSpeed===0&&(t.calcLoading=!0)}),_e(async()=>{try{if(q.startLoad){let ne={},f={},x={},fe={};u.skill.name.includes("Metronome")&&(await a.fetchPkmData("LEAFEON"),await a.fetchPkmData("UMBREON"),await a.fetchPkmData("VAPOREON"),await a.fetchPkmData("SYLVEON"),ne=a.searchPkmData("name","VAPOREON").skill,f=a.searchPkmData("name","UMBREON").skill,x=a.searchPkmData("name","LEAFEON").skill,fe=a.searchPkmData("name","SYLVEON").skill),t.onlyBaseSpeed=t.calcBaseSpeed(n,S,_,d,p,Y,me,y,u,A,k.value),t.finalSkillProc=t.calcSkillProc(u,S,_,d,p,y),t.finalIngProc=t.calcIngProc(u,S,_,d,p,y),console.log(u,S,_,d,p,y),g==="proVer"?(t.onlyBaseSpeedH=t.calcBaseSpeed(te,Q,B,d,p,Y,me,R,N,A,k.value),t.finalSkillProcH=t.calcSkillProc(N,Q,B,d,p,R),t.finalIngProcH=t.calcIngProc(N,Q,B,d,p,R),t.calcEnergyCurve(fe,f,x,V,n,H,y,C,I,M,u,W,k.value,J,X,O,g,Z,ee,S,_,d,p,ae,le,w,b,N,de,R,te,ke,se,Q,B)):t.calcEnergyCurve(fe,f,x,V,n,H,y,C,I,M,u,W,k.value,J,X,O,g,Z,ee,S,_,d,p,ae,le,w,b,N),t.calcSpeedWithEner(b,g,w),g!=="proVer"&&(u.skill.name.includes("Charge Energy")||u.skill.name.includes("Energizing Cheer")||u.skill.name.includes("Energy For Everyone")||u.skill.name.includes("Metronome"))&&(t.calcEnergyCurve(fe,f,x,V,n,H,y,C,I,M,u,W,k.value,J,X,O,g,Z,ee,S,_,d,p,ae,le,w,b,N,de,R,te,ke,se,Q,B),t.calcSpeedWithEner(b,g,w)),t.calcLeveLIng(g,ne,V,!1,u,n,$,C,I,O,w,b,H,y,k.value,M),t.calcLoading=!1}}catch(ne){console.log("ing production calc err",ne)}});const Le=U(()=>P.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[$]/3):Math.round(t.totalIngCalc[$])),He=U(()=>P.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[C]/3):Math.round(t.totalIngCalc[C])),Me=U(()=>P.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[I]/3):Math.round(t.totalIngCalc[I])),Ve=U(()=>P.value==="\uD55C\uB07C"?(t.totalIngCalc.all/3).toFixed(2):t.totalIngCalc.all.toFixed(2));return(ne,f)=>(E(),re(Pe,null,[e(xe,{class:"bg-primary text-white text-center"},{default:l(()=>[e(Ee,null,{default:l(()=>[F("\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C")]),_:1})]),_:1}),r("div",ct,[e(Ye,{alt:"Pokemon image",src:o.value,fit:"scale-down",style:{"max-width":"300px"},"no-spinner":""},null,8,["src"]),e(T,{bordered:"",class:"full-width bg-googleBack"},{default:l(()=>[e(L,null,{default:l(()=>[r("div",rt,[e(Fe,{class:qe(De.value),size:"xl",name:"img:images/goodcampticket.png"},{default:l(()=>[e(Ze,{"hide-delay":G(et)()},{default:l(()=>[F(" \uC88B\uC740 \uCEA0\uD504 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"]),e(at,{outlined:"",dense:"",modelValue:P.value,"onUpdate:modelValue":f[0]||(f[0]=x=>P.value=x),options:oe},null,8,["modelValue"])]),r("div",it,[F(j(Ne.value)+" ",1),ut,e(z,{color:"grey-5",icon:"help",round:"",flat:"",dense:"",onClick:f[1]||(f[1]=x=>v.value=!0)})])]),_:1}),e(ce,{inset:""}),e(L,{class:"column q-gutter-y-md"},{default:l(()=>[r("div",mt,[e(T,null,{default:l(()=>[e(L,{class:"row bg-sSkill"},{default:l(()=>[e(ie,{class:"shadow-1",color:"ingCircle",icon:pe.value},null,8,["icon"]),e(ce,{vertical:"",class:"q-mx-md"}),r("div",dt,j(Le.value)+" \uAC1C",1)]),_:1})]),_:1})]),G(t).checkSecondDisplay?(E(),re("div",pt,[e(T,null,{default:l(()=>[e(L,{class:"row bg-sSkill"},{default:l(()=>[e(ie,{class:"shadow-1",color:"ingCircle",icon:ge.value},null,8,["icon"]),e(ce,{vertical:"",class:"q-mx-md"}),r("span",gt,j(He.value)+" \uAC1C",1)]),_:1})]),_:1})])):K("",!0),G(t).checkThirdDisplay?(E(),re("div",kt,[e(T,null,{default:l(()=>[e(L,{class:"row bg-sSkill"},{default:l(()=>[e(ie,{class:"shadow-1",color:"ingCircle",icon:Se.value},null,8,["icon"]),e(ce,{vertical:"",class:"q-mx-md"}),r("span",ft,j(Me.value)+" \uAC1C",1)]),_:1})]),_:1})])):K("",!0),G(t).checkIngSkillDisplay?(E(),re("div",ht,[e(T,null,{default:l(()=>[e(L,{class:"row bg-sSkill no-wrap"},{default:l(()=>[e(ie,{class:"shadow-1",color:"ingCircle",icon:"img:images/ingall.png"}),e(ce,{vertical:"",class:"q-mx-md"}),r("div",vt,[r("div",St,j(Ve.value)+" \uAC1C\xA0",1),_t])]),_:1})]),_:1})])):K("",!0)]),_:1})]),_:1})]),e(nt,{modelValue:v.value,"onUpdate:modelValue":f[2]||(f[2]=x=>v.value=x)},{default:l(()=>[e(T,null,{default:l(()=>[e(ot,null,{default:l(()=>[yt,e(lt),Ae(e(z,{dense:"",flat:"",icon:"close"},null,512),[[st]])]),_:1}),e(L,null,{default:l(()=>[Ct,F("(\uCD1D 24h)\uC744 \uC804\uBD80 \uBC18\uC601\uD558\uC5EC \uACC4\uC0B0\uD55C \uACB0\uACFC\uC785\uB2C8\uB2E4 ")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),wt={class:"column items-center q-gutter-y-md relative-position"},bt={class:"row"},Pt=r("div",{class:"q-mx-sm"},null,-1),xt={class:"text-caption q-py-sm"},Et=r("br",null,null,-1),Dt=Object.assign({name:"EnerResult"},{__name:"ResultEnergyComponent",props:{startLoad:{type:Boolean}},setup(ue){const q=ue,a=ye(),h=m();function c(){h.value.updateSeries([]),a.calcLoading=!0}_e(async()=>{try{if(q.startLoad){const t=await Ie(()=>import("./tooltip.476859b1.js").then(function(k){return k.p}),["assets/tooltip.476859b1.js","assets/index.9a70fe3f.js","assets/index.4cd4186e.css","assets/QSelect.1416e79d.js","assets/selection.d0840c57.js","assets/QDialog.b6b4ff91.js","assets/QItem.98dbc3c0.js"]),v=await Ie(()=>import("./inputStore.4d7724f8.js").then(function(k){return k.i}),["assets/inputStore.4d7724f8.js","assets/index.9a70fe3f.js","assets/index.4cd4186e.css","assets/use-panel.16cb0d19.js","assets/touch.3df10340.js","assets/selection.d0840c57.js"]),o=t.usePkmDBStore(),s=v.useInputStore(),n=v.useHealerInputStore(),S=v.useSleepTimeInputStore(),_=m(s.pkmName),d=s.pkmLevel,p=s.upNature,Y=s.downNature,me=o.upMult[p],y=o.downMult[Y],u=s.subSkills,A=o.searchPkmData("name",o.convertKorEn(_.value)),H=s.evoCount,$=s.firstIng,C=s.secondIng,I=s.thirdIng,M=s.mainSkillLevel,W=o.mealRecovery,J=o.maxE,V=o.totalMainSkill,X=n.mainSkillLevel,O=S.sleepTime,g=n.calcVer,Z=n.healSkillCount,ee=o.timeForFull,Q=n.upNature,B=n.downNature,ve=n.pkmName,te=n.pkmLevel,R=n.subSkills,N=o.searchPkmData("name",o.convertKorEn(ve)),ae=s.erbCount,le=o.erbMult,w=o.enerPerHour,b=o.speedEnerMultList,de=n.evoCount;let oe={},P={},pe={},ge={};A.skill.name.includes("Metronome")&&(await o.fetchPkmData("LEAFEON"),await o.fetchPkmData("UMBREON"),await o.fetchPkmData("VAPOREON"),await o.fetchPkmData("SYLVEON"),oe=o.searchPkmData("name","VAPOREON").skill,P=o.searchPkmData("name","UMBREON").skill,pe=o.searchPkmData("name","LEAFEON").skill,ge=o.searchPkmData("name","SYLVEON").skill);const Se=n.secondIng,ke=n.thirdIng,se=m(s.useGoodCamp);a.calcEnergyCurve(ge,P,pe,V,d,H,u,C,I,M,A,W,se.value,J,X,O,g,Z,ee,p,Y,me,y,ae,le,w,b,N,de,R,te,Se,ke,Q,B),a.calcSpeedWithEner(b,g,w),a.calcLeveLIng(g,oe,V,!1,A,d,$,C,I,O,w,b,H,u,se.value,M),h.value.updateSeries([{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:a.energyAxis}]),a.calcLoading=!1}}catch(t){console.log("energy calc err",t)}});const D={chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},noData:{text:"\uAE30\uB825 \uACC4\uC0B0 \uC911..."},stroke:{curve:"straight"},xaxis:{title:{text:"\uC2DC\uAC04 \uACBD\uACFC (h)"},type:"numeric",labels:{formatter:function(t){return(t/2).toFixed(1)}}},yaxis:{title:{text:"\uB0A8\uC740 \uAE30\uB825\uB7C9 (%)"},labels:{formatter:function(t){return Math.floor(t)}},min:0,max:150},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#FDD835"],opacityFrom:1,opacityTo:.01,stops:[0,100,100,100]}}},i=[{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:a.energyAxis}];return(t,v)=>{const o=$e("apexchart");return E(),re(Pe,null,[e(xe,{class:"bg-primary text-white text-center"},{default:l(()=>[e(Ee,null,{default:l(()=>[F("\uAE30\uB825 \uBCC0\uD654 \uADF8\uB798\uD504")]),_:1})]),_:1}),r("div",wt,[e(o,{ref_key:"energyChartRef",ref:h,class:"apexchart_width",type:"area",options:D,series:i},null,512),G(a).finalSkillProcH>0?(E(),he(T,{key:0},{default:l(()=>[e(L,{class:"bg-sSkill"},{default:l(()=>[r("div",bt,[e(ie,{size:"md",class:"shadow-1",color:"secondary","text-color":"white",icon:"priority_high"}),Pt,r("span",xt,[F("\uC704 \uADF8\uB798\uD504\uB294 "+j(G(a).simulationCount)+"\uD68C \uBAA8\uC758\uC2DC\uD589\uC758 \uAE30\uB313\uAC12\uC785\uB2C8\uB2E4.",1),Et,F("\uB9E4 \uC2DC\uD589\uB9C8\uB2E4 \uACB0\uACFC\uAC00 \uB2EC\uB77C\uC9C8 \uC218 \uC788\uC2B5\uB2C8\uB2E4.")])]),e(z,{class:"full-width",rounded:"",label:"\uAE30\uB825 \uB2E4\uC2DC \uACC4\uC0B0\uD558\uAE30",icon:"restart_alt",color:"positive",onClick:c})]),_:1})]),_:1})):K("",!0)])],64)}}}),jt=Object.assign({name:"ResultPage"},{__name:"ResultPage",setup(ue){const q=be(),a=ye(),h=we(),c=tt(),D=m(!1);Ue(()=>{q.hasEssential()||(we().push("/prodcalc"),je("\uD3EC\uCF13\uBAAC \uC815\uBCF4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694"))}),Ge(()=>{a.clearCalc()}),_e(()=>{if(q.hasEssential())if(a.calcLoading){ze("\uACC4\uC0B0 \uC911...");const o=c.platform.is.mobile?100:30;setTimeout(()=>{D.value=!0},o)}else D.value=!1,Ke()});const i=m(1),t=m();function v(){a.clearCalc(),h.push("/prodcalc")}return(o,s)=>(E(),he(We,{class:"row justify-center bg-googleDark relative-position"},{default:l(()=>[e(Re,{modelValue:i.value,"onUpdate:modelValue":s[2]||(s[2]=n=>i.value=n),ref_key:"stepper",ref:t,contracted:"",color:"primary","active-icon":"none",class:"col-xs-12 col-sm-9 col-md-8 col-lg-6 col-xl-4 bg-googleBack",animated:""},{navigation:l(()=>[e(Be,{class:"row justify-between"},{default:l(()=>[e(z,{push:"",icon:"refresh",color:"primary",onClick:v,label:"\uB2E4\uC2DC\uD558\uAE30","text-color":"white"}),r("div",null,[i.value>1?(E(),he(z,{key:0,flat:"",color:"primary",onClick:s[0]||(s[0]=n=>t.value.previous()),label:"\uB4A4\uB85C",class:"q-ml-sm"})):K("",!0),i.value<2?(E(),he(z,{key:1,onClick:s[1]||(s[1]=n=>t.value.next()),color:"primary",label:"\uB2E4\uC74C"})):K("",!0)])]),_:1})]),default:l(()=>[e(Ce,{name:1,title:"\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C",icon:"assignment"},{default:l(()=>[e(It,{"start-load":D.value},null,8,["start-load"])]),_:1}),e(Ce,{name:2,title:"\uAE30\uB825 \uADF8\uB798\uD504",icon:"favorite"},{default:l(()=>[e(Dt,{"start-load":D.value},null,8,["start-load"])]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{jt as default};
