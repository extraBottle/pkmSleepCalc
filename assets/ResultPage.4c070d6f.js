import{u as De,d as qe,c as je,Q as Oe,a as we,b as ze}from"./inputStore.32c41410.js";import{r as m,j as fe,a as Ae,aS as ke,P as v,$ as re,V as e,T as s,W as i,a5 as he,Z as L,Q as Ee,aK as He,U as ie,_ as ce,a3 as G,a4 as Ge,k as Ue,S as U,X as _e,a2 as We,Y as ye,aT as Pe,an as Ne,o as Je,aR as Ke,b as Xe,aI as Ye,aJ as Ze}from"./index.b23af543.js";import{b as et,Q as tt}from"./QPage.23f41972.js";import{e as Re,f as Be,d as ot}from"./QItem.99b0fee6.js";import{Q as st}from"./QImg.7e40036b.js";import{a as at,u as nt,Q as Me,t as Qe}from"./tooltip.4d0ef8f0.js";import{Q as lt}from"./QSelect.db65e7ef.js";import{Q as ae,b as A,a as rt,C as ct}from"./ClosePopup.04df50d1.js";import{Q as ve}from"./QSeparator.2aedd345.js";import{Q as it}from"./QSpace.5fb1d5d1.js";import{u as Se}from"./finalCalcStore.c38b8d88.js";import{_ as ut}from"./AdsenseComponent.98fcfdaa.js";import"./use-prevent-scroll.036855f6.js";import"./touch.3df10340.js";const mt={class:"column items-center q-gutter-y-md relative-position"},dt={class:"full-width row justify-between"},pt={class:"text-h5 text-center text-weight-bold clean-wrap"},bt=i("span",{class:"text-subtitle2"},"(\uAE30\uB313\uAC12)",-1),gt={class:"text-h5 q-py-sm"},ft={class:"row q-py-sm"},vt={class:"text-h5 no-wrap"},ht=i("div",{class:"text-subtitle1 no-wrap"},"(\uB098\uBA38\uC9C0 \uBAA8\uB4E0 \uC2DD\uC7AC\uB8CC)",-1),_t=i("div",null,"\uB3C4\uC6C0\uB9D0",-1),yt=i("span",{class:"text-bold"},' "\uC218\uBA74 + \uD65C\uB3D9\uC2DC\uAC04"',-1),kt=Object.assign({name:"IngResult"},{__name:"ResultProdComponent",props:{startLoad:{type:Boolean}},setup(ne){const F=ne,o=at(),w=nt(),a=De(),I=qe(),n=je(),t=Se(),b=m(!1),c=m(w.fetchImage("pkm",a.selectedPkmDex)),l=m(a.pkmName),r=a.pkmLevel,h=a.upNature,_=a.downNature,d=o.upMult[h],p=o.downMult[_],W=a.hbCount,le=o.hbMult,y=a.subSkills,u=o.searchPkmData("kor_name",l.value),$=o.maxHS,E=a.firstIng,H=a.secondIng,P=a.thirdIng,N=a.mainSkillLevel,J=o.mealRecovery,K=a.hasErb,ue=m(t.totalIngCalc),X=o.erbMaxEnergy,me=a.useRibbon?o.ribbonList[parseInt(a.ribbonLev,10)-1].speed[a.leftEvo]:0,M=a.useRibbon?o.ribbonList[parseInt(a.ribbonLev,10)-1].inventory:0,Q=o.maxE,Y=n.mainSkillLevel,q=I.sleepTime,g=n.calcVer,Z=n.healSkillCount,ee=o.timeForFull,D=n.upNature,R=n.downNature,de=n.pkmName,te=n.pkmLevel,B=n.subSkills,f=o.searchPkmData("kor_name",de),T=a.erbCount,j=o.erbMult,x=o.enerPerHour,C=o.speedEnerMultList,pe=n.hasErb,be=n.useRibbon?o.ribbonList[parseInt(n.ribbonLev,10)-1].speed[n.leftEvo]:0,oe=n.useRibbon?o.ribbonList[parseInt(n.ribbonLev,10)-1].inventory:0,O=u.specialty=="skill"?o.collectSkillCount.skill:o.collectSkillCount.else,se=["\uD55C\uB07C","1\uC77C"],k=m(se[0]),Ie=n.firstIng,xe=n.secondIng,Ce=n.thirdIng,V=m(a.useGoodCamp),Te=fe(()=>V.value?"":"hidden"),Ve=m(a.useRibbon),Fe=fe(()=>Ve.value?"":"invisible"),$e=fe(()=>l.value+"\uC758 "+(k.value==="\uD55C\uB07C"?"\uD55C\uB07C\uB2F9":"\uD558\uB8E8")+" \uC0DD\uC0B0\uB7C9");return Ae(()=>{a.hasEssential()&&t.onlyBaseSpeed===0&&(t.calcLoading=!0)}),ke(async()=>{try{F.startLoad&&(t.onlyBaseSpeed=t.calcBaseSpeed(me,r,h,_,d,p,W,le,y,u,$,V.value),t.finalSkillProc=t.calcSkillProc(u,h,_,d,p,y),t.finalIngProc=t.calcIngProc(u,h,_,d,p,y),g==="proVer"?(t.onlyBaseSpeedH=t.calcBaseSpeed(be,te,D,R,d,p,W,le,B,f,$,V.value),t.finalSkillProcH=t.calcSkillProc(f,D,R,d,p,B),t.finalIngProcH=t.calcIngProc(f,D,R,d,p,B),t.calcEnergyCurve(K,X,M,oe,r,y,E,H,P,N,u,J,V.value,Q,Y,q,g,Z,ee,h,_,d,p,T,j,x,C,f,B,te,Ie,xe,Ce,D,R,pe)):t.calcEnergyCurve(K,X,M,oe,r,y,E,H,P,N,u,J,V.value,Q,Y,q,g,Z,ee,h,_,d,p,T,j,x,C,f),t.calcSpeedWithEner(C,g,x,O),g!=="proVer"&&(u.main_skills.name.includes("Charge Energy")||u.main_skills.name.includes("Energizing Cheer")||u.main_skills.name.includes("Energy For Everyone"))&&(t.calcEnergyCurve(K,X,M,oe,r,y,E,H,P,N,u,J,V.value,Q,Y,q,g,Z,ee,h,_,d,p,T,j,x,C,f,B,te,Ie,xe,Ce,D,R),t.calcSpeedWithEner(C,g,x,O)),t.calcLeveLIng(g,M,O,!1,u,r,E,H,P,q,x,C,y,V.value,N),t.calcLoading=!1)}catch(Le){console.log("ing production calc err",Le)}}),(Le,z)=>(v(),re(he,null,[e(Re,{class:"bg-primary text-white text-center"},{default:s(()=>[e(Be,null,{default:s(()=>[L("\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C")]),_:1})]),_:1}),i("div",mt,[e(st,{alt:"Pokemon image",src:c.value,fit:"scale-down",style:{"max-width":"300px"},"no-spinner":""},null,8,["src"]),e(ae,{bordered:"",class:"full-width bg-googleBack"},{default:s(()=>[e(A,null,{default:s(()=>[i("div",dt,[i("div",null,[e(Ee,{class:He(Te.value),size:"xl",name:"img:images/goodcampticket.png"},{default:s(()=>[e(Me,{"hide-delay":ie(Qe)()},{default:s(()=>[L(" \uC88B\uC740 \uCEA0\uD504 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"]),e(Ee,{class:He(Fe.value),size:"xl",name:"img:images/ribbon.png"},{default:s(()=>[e(Me,{"hide-delay":ie(Qe)()},{default:s(()=>[L(" \uAD7F\uB098\uC787\uB9AC\uBCF8 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"])]),e(lt,{outlined:"",dense:"",modelValue:k.value,"onUpdate:modelValue":z[0]||(z[0]=S=>k.value=S),options:se},null,8,["modelValue"])]),i("div",pt,[L(ce($e.value)+" ",1),bt,e(G,{color:"grey-5",icon:"help",round:"",flat:"",dense:"",onClick:z[1]||(z[1]=S=>b.value=!0)})])]),_:1}),e(ve,{inset:""}),e(A,{class:"column q-gutter-y-md"},{default:s(()=>[(v(!0),re(he,null,Ge(ue.value,(S,ge)=>(v(),re("div",{class:"col",key:ge},[ge!=="all"?(v(),U(ae,{key:0},{default:s(()=>[e(A,{class:"row bg-sSkill"},{default:s(()=>[e(_e,{class:"shadow-1",color:"ingCircle",icon:`img:ingredients/${ge}.png`},null,8,["icon"]),e(ve,{vertical:"",class:"q-mx-md"}),i("div",gt,ce(Math.round(k.value==="\uD55C\uB07C"?S/3:S))+" \uAC1C",1)]),_:2},1024)]),_:2},1024)):(v(),U(ae,{key:1},{default:s(()=>[e(A,{class:"row bg-sSkill no-wrap"},{default:s(()=>[e(_e,{class:"shadow-1",color:"ingCircle",icon:"img:images/ingall.png"}),e(ve,{vertical:"",class:"q-mx-md"}),i("div",ft,[i("div",vt,ce(Math.round(k.value==="\uD55C\uB07C"?S/3:S))+" \uAC1C\xA0",1),ht])]),_:2},1024)]),_:2},1024))]))),128))]),_:1})]),_:1})]),e(et,{modelValue:b.value,"onUpdate:modelValue":z[2]||(z[2]=S=>b.value=S)},{default:s(()=>[e(ae,null,{default:s(()=>[e(rt,null,{default:s(()=>[_t,e(it),Ue(e(G,{dense:"",flat:"",icon:"close"},null,512),[[ct]])]),_:1}),e(A,null,{default:s(()=>[yt,L("(\uCD1D 24h)\uC744 \uC804\uBD80 \uBC18\uC601\uD558\uC5EC \uACC4\uC0B0\uD55C \uACB0\uACFC\uC785\uB2C8\uB2E4 ")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),St={class:"column items-center q-gutter-y-md relative-position"},It={class:"row"},xt=i("div",{class:"q-mx-sm"},null,-1),Ct={class:"text-caption q-py-sm"},Lt=i("br",null,null,-1),wt=Object.assign({name:"EnerResult"},{__name:"ResultEnergyComponent",props:{startLoad:{type:Boolean}},setup(ne){const F=ne,o=Se(),w=m();function a(){w.value.updateSeries([]),o.calcLoading=!0}ke(async()=>{try{if(F.startLoad){const t=await Pe(()=>import("./tooltip.4d0ef8f0.js").then(function(k){return k.p}),["assets/tooltip.4d0ef8f0.js","assets/index.b23af543.js","assets/index.f2109568.css","assets/QSelect.db65e7ef.js","assets/use-prevent-scroll.036855f6.js","assets/QItem.99b0fee6.js","assets/QPage.23f41972.js"]),b=await Pe(()=>import("./inputStore.32c41410.js").then(function(k){return k.i}),["assets/inputStore.32c41410.js","assets/index.b23af543.js","assets/index.f2109568.css","assets/use-prevent-scroll.036855f6.js","assets/touch.3df10340.js","assets/QItem.99b0fee6.js"]),c=t.usePkmDBStore(),l=b.useInputStore(),r=b.useHealerInputStore(),h=b.useSleepTimeInputStore(),_=m(l.pkmName),d=l.pkmLevel,p=l.upNature,W=l.downNature,le=c.upMult[p],y=c.downMult[W],u=l.subSkills,$=c.searchPkmData("kor_name",_.value),E=l.firstIng,H=l.secondIng,P=l.thirdIng,N=l.mainSkillLevel,J=c.mealRecovery,K=l.hasErb,ue=c.erbMaxEnergy,X=c.maxE,me=r.mainSkillLevel,M=h.sleepTime,Q=r.calcVer,Y=r.healSkillCount,q=c.timeForFull,g=r.upNature,Z=r.downNature,ee=r.pkmName,D=r.pkmLevel,R=r.subSkills,de=c.searchPkmData("kor_name",ee),te=l.erbCount,B=c.erbMult,f=c.enerPerHour,T=c.speedEnerMultList,j=l.useRibbon?c.ribbonList[parseInt(l.ribbonLev,10)-1].inventory:0,x=r.useRibbon?c.ribbonList[parseInt(r.ribbonLev,10)-1].inventory:0,C=r.hasErb,pe=r.firstIng,be=r.secondIng,oe=r.thirdIng,O=m(l.useGoodCamp),se=$.specialty=="skill"?c.collectSkillCount.skill:c.collectSkillCount.else;o.calcEnergyCurve(K,ue,j,x,d,u,E,H,P,N,$,J,O.value,X,me,M,Q,Y,q,p,W,le,y,te,B,f,T,de,R,D,pe,be,oe,g,Z,C),o.calcSpeedWithEner(T,Q,f,se),o.calcLeveLIng(Q,j,se,!1,$,d,E,H,P,M,f,T,u,O.value,N),w.value.updateSeries([{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:o.energyAxis}]),o.calcLoading=!1}}catch(t){console.log("energy calc err",t)}});const I={chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},noData:{text:"\uAE30\uB825 \uACC4\uC0B0 \uC911..."},stroke:{curve:"straight"},xaxis:{title:{text:"\uC2DC\uAC04 \uACBD\uACFC (h)"},type:"numeric",labels:{formatter:function(t){return(t/2).toFixed(1)}}},yaxis:{title:{text:"\uB0A8\uC740 \uAE30\uB825\uB7C9 (%)"},labels:{formatter:function(t){return Math.floor(t)}},min:0,max:150},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#FDD835"],opacityFrom:1,opacityTo:.01,stops:[0,100,100,100]}}},n=[{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:o.energyAxis}];return(t,b)=>{const c=We("apexchart");return v(),re(he,null,[e(Re,{class:"bg-primary text-white text-center"},{default:s(()=>[e(Be,null,{default:s(()=>[L("\uAE30\uB825 \uBCC0\uD654 \uADF8\uB798\uD504")]),_:1})]),_:1}),i("div",St,[e(c,{ref_key:"energyChartRef",ref:w,class:"apexchart_width",type:"area",options:I,series:n},null,512),ie(o).finalSkillProcH>0?(v(),U(ae,{key:0},{default:s(()=>[e(A,{class:"bg-sSkill"},{default:s(()=>[i("div",It,[e(_e,{size:"md",class:"shadow-1",color:"secondary","text-color":"white",icon:"priority_high"}),xt,i("span",Ct,[L("\uC704 \uADF8\uB798\uD504\uB294 "+ce(ie(o).simulationCount)+"\uD68C \uBAA8\uC758\uC2DC\uD589\uC758 \uAE30\uB313\uAC12\uC785\uB2C8\uB2E4.",1),Lt,L("\uB9E4 \uC2DC\uD589\uB9C8\uB2E4 \uACB0\uACFC\uAC00 \uB2EC\uB77C\uC9C8 \uC218 \uC788\uC2B5\uB2C8\uB2E4.")])]),e(G,{class:"full-width",rounded:"",label:"\uAE30\uB825 \uB2E4\uC2DC \uACC4\uC0B0\uD558\uAE30",icon:"restart_alt",color:"positive",onClick:a})]),_:1})]),_:1})):ye("",!0)])],64)}}}),jt=Object.assign({name:"ResultPage"},{__name:"ResultPage",setup(ne){const F=De(),o=Se(),w=Ne(),a=ot(),I=m(!1);Je(()=>{F.hasEssential()||(Ne().push("/prodcalc"),Ke("\uD3EC\uCF13\uBAAC \uC815\uBCF4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694"))}),Xe(()=>{o.clearCalc()}),ke(()=>{if(F.hasEssential())if(o.calcLoading){Ye("\uACC4\uC0B0 \uC911...");const c=a.platform.is.mobile?100:30;setTimeout(()=>{I.value=!0},c)}else I.value=!1,Ze()});const n=m(1),t=m();function b(){o.clearCalc(),w.push("/prodcalc")}return(c,l)=>(v(),U(tt,{class:"row justify-center bg-googleDark relative-position"},{default:s(()=>[e(ze,{modelValue:n.value,"onUpdate:modelValue":l[2]||(l[2]=r=>n.value=r),ref_key:"stepper",ref:t,contracted:"",color:"primary","active-icon":"none",class:"col-xs-12 col-sm-9 col-md-8 col-lg-6 col-xl-6 bg-googleBack",animated:""},{navigation:s(()=>[e(Oe,{class:"row justify-between"},{default:s(()=>[e(G,{push:"",icon:"refresh",color:"primary",onClick:b,label:"\uB2E4\uC2DC\uD558\uAE30","text-color":"white"}),i("div",null,[n.value>1?(v(),U(G,{key:0,flat:"",color:"primary",onClick:l[0]||(l[0]=r=>t.value.previous()),label:"\uB4A4\uB85C",class:"q-ml-sm"})):ye("",!0),n.value<2?(v(),U(G,{key:1,onClick:l[1]||(l[1]=r=>t.value.next()),color:"primary",label:"\uB2E4\uC74C"})):ye("",!0)])]),_:1}),e(ut)]),default:s(()=>[e(we,{name:1,title:"\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C",icon:"assignment"},{default:s(()=>[e(kt,{"start-load":I.value},null,8,["start-load"])]),_:1}),e(we,{name:2,title:"\uAE30\uB825 \uADF8\uB798\uD504",icon:"favorite"},{default:s(()=>[e(wt,{"start-load":I.value},null,8,["start-load"])]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{jt as default};
