import{u as Re,d as Oe,c as je,Q as ze,a as we,b as Ae}from"./inputStore.8d8a8d80.js";import{r as m,p as ve,a as Ge,aS as _e,P as b,a3 as ce,V as e,T as a,W as c,a5 as ye,Z as L,Q as Ee,aK as He,U as W,_ as ue,a2 as U,a4 as Ue,s as We,S as w,X as ke,a1 as Je,Y as ne,aT as Pe,ao as Ne,o as Ke,aR as Xe,b as Ye,aI as Ze,aJ as et}from"./index.7e091b03.js";import{b as tt,Q as ot}from"./QPage.f1184ced.js";import{d as Be,e as Te}from"./QItem.ad1ddfa8.js";import{Q as st}from"./QImg.a7d6b1db.js";import{a as at,u as nt,Q as Me,t as Qe}from"./tooltip.d4f38237.js";import{Q as lt}from"./QSelect.4af07484.js";import{Q as le,b as G,a as rt,C as it}from"./ClosePopup.563ba9db.js";import{Q as he}from"./QSeparator.da7ab804.js";import{Q as ct}from"./QSpace.934bf432.js";import{u as Se}from"./finalCalcStore.fd2ae0b4.js";import{i as ut,_ as De}from"./AdsenseComponent.1fb39f1f.js";import"./touch.3df10340.js";const mt={class:"column items-center q-gutter-y-md relative-position"},dt={class:"full-width row justify-between"},pt={class:"text-h5 text-center text-weight-bold clean-wrap"},bt=c("span",{class:"text-subtitle2"},"(\uAE30\uB313\uAC12)",-1),gt={class:"text-h5 q-py-sm"},ft={class:"row q-py-sm"},vt={class:"text-h5 no-wrap"},ht=c("div",{class:"text-subtitle1 no-wrap"},"(\uB098\uBA38\uC9C0 \uBAA8\uB4E0 \uC2DD\uC7AC\uB8CC)",-1),yt=c("div",null,"\uB3C4\uC6C0\uB9D0",-1),kt=c("span",{class:"text-bold"},' "\uC218\uBA74 + \uD65C\uB3D9\uC2DC\uAC04"',-1),_t=Object.assign({name:"IngResult"},{__name:"ResultProdComponent",props:{startLoad:{type:Boolean}},setup(re){const q=re,o=at(),E=nt(),s=Re(),I=Oe(),n=je(),t=Se(),g=m(!1),i=m(E.fetchImage("pkm",s.selectedPkmDex)),l=m(s.pkmName),r=s.pkmLevel,h=s.upNature,y=s.downNature,d=o.upMult[h],p=o.downMult[y],J=s.hbCount,ie=o.hbMult,k=s.subSkills,u=o.searchPkmData("kor_name",l.value),$=o.maxHS,H=s.firstIng,P=s.secondIng,N=s.thirdIng,M=s.mainSkillLevel,K=o.mealRecovery,X=s.hasErb,me=m(t.totalIngCalc),Y=o.erbMaxEnergy,de=s.useRibbon?o.ribbonList[parseInt(s.ribbonLev,10)-1].speed[s.leftEvo]:0,Q=s.useRibbon?o.ribbonList[parseInt(s.ribbonLev,10)-1].inventory:0,D=o.maxE,Z=n.mainSkillLevel,O=I.sleepTime,f=n.calcVer,ee=n.healSkillCount,te=o.timeForFull,R=n.upNature,B=n.downNature,pe=n.pkmName,oe=n.pkmLevel,T=n.subSkills,v=o.searchPkmData("kor_name",pe),V=s.erbCount,j=o.erbMult,x=o.enerPerHour,C=o.speedEnerMultList,be=n.hasErb,ge=n.useRibbon?o.ribbonList[parseInt(n.ribbonLev,10)-1].speed[n.leftEvo]:0,se=n.useRibbon?o.ribbonList[parseInt(n.ribbonLev,10)-1].inventory:0,z=u.specialty=="skill"?o.collectSkillCount.skill:o.collectSkillCount.else,ae=["\uD55C\uB07C","1\uC77C"],_=m(ae[0]),Ie=n.firstIng,xe=n.secondIng,Ce=n.thirdIng,F=m(s.useGoodCamp),Ve=ve(()=>F.value?"":"hidden"),Fe=m(s.useRibbon),qe=ve(()=>Fe.value?"":"invisible"),$e=ve(()=>l.value+"\uC758 "+(_.value==="\uD55C\uB07C"?"\uD55C\uB07C\uB2F9":"\uD558\uB8E8")+" \uC0DD\uC0B0\uB7C9");return Ge(()=>{s.hasEssential()&&t.onlyBaseSpeed===0&&(t.calcLoading=!0)}),_e(async()=>{try{q.startLoad&&(t.onlyBaseSpeed=t.calcBaseSpeed(de,r,h,y,d,p,J,ie,k,u,$,F.value),t.finalSkillProc=t.calcSkillProc(u,h,y,d,p,k),t.finalIngProc=t.calcIngProc(u,h,y,d,p,k),f==="proVer"?(t.onlyBaseSpeedH=t.calcBaseSpeed(ge,oe,R,B,d,p,J,ie,T,v,$,F.value),t.finalSkillProcH=t.calcSkillProc(v,R,B,d,p,T),t.finalIngProcH=t.calcIngProc(v,R,B,d,p,T),t.calcEnergyCurve(X,Y,Q,se,r,k,H,P,N,M,u,K,F.value,D,Z,O,f,ee,te,h,y,d,p,V,j,x,C,v,T,oe,Ie,xe,Ce,R,B,be)):t.calcEnergyCurve(X,Y,Q,se,r,k,H,P,N,M,u,K,F.value,D,Z,O,f,ee,te,h,y,d,p,V,j,x,C,v),t.calcSpeedWithEner(C,f,x,z),f!=="proVer"&&(u.main_skills.name.includes("Charge Energy")||u.main_skills.name.includes("Energizing Cheer")||u.main_skills.name.includes("Energy For Everyone"))&&(t.calcEnergyCurve(X,Y,Q,se,r,k,H,P,N,M,u,K,F.value,D,Z,O,f,ee,te,h,y,d,p,V,j,x,C,v,T,oe,Ie,xe,Ce,R,B),t.calcSpeedWithEner(C,f,x,z)),t.calcLeveLIng(f,Q,z,!1,u,r,H,P,N,O,x,C,k,F.value,M),t.calcLoading=!1)}catch(Le){console.log("ing production calc err",Le)}}),(Le,A)=>(b(),ce(ye,null,[e(Be,{class:"bg-primary text-white text-center"},{default:a(()=>[e(Te,null,{default:a(()=>[L("\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C")]),_:1})]),_:1}),c("div",mt,[e(st,{alt:"Pokemon image",src:i.value,fit:"scale-down",style:{"max-width":"300px"},"no-spinner":""},null,8,["src"]),e(le,{bordered:"",class:"full-width bg-googleBack"},{default:a(()=>[e(G,null,{default:a(()=>[c("div",dt,[c("div",null,[e(Ee,{class:He(Ve.value),size:"xl",name:"img:images/goodcampticket.png"},{default:a(()=>[e(Me,{"hide-delay":W(Qe)()},{default:a(()=>[L(" \uC88B\uC740 \uCEA0\uD504 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"]),e(Ee,{class:He(qe.value),size:"xl",name:"img:images/ribbon.png"},{default:a(()=>[e(Me,{"hide-delay":W(Qe)()},{default:a(()=>[L(" \uAD7F\uB098\uC787\uB9AC\uBCF8 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"])]),e(lt,{outlined:"",dense:"",modelValue:_.value,"onUpdate:modelValue":A[0]||(A[0]=S=>_.value=S),options:ae},null,8,["modelValue"])]),c("div",pt,[L(ue($e.value)+" ",1),bt,e(U,{color:"grey-5",icon:"help",round:"",flat:"",dense:"",onClick:A[1]||(A[1]=S=>g.value=!0)})])]),_:1}),e(he,{inset:""}),e(G,{class:"column q-gutter-y-md"},{default:a(()=>[(b(!0),ce(ye,null,Ue(me.value,(S,fe)=>(b(),ce("div",{class:"col",key:fe},[fe!=="all"?(b(),w(le,{key:0},{default:a(()=>[e(G,{class:"row bg-sSkill"},{default:a(()=>[e(ke,{class:"shadow-1",color:"ingCircle",icon:`img:ingredients/${fe}.png`},null,8,["icon"]),e(he,{vertical:"",class:"q-mx-md"}),c("div",gt,ue(Math.round(_.value==="\uD55C\uB07C"?S/3:S))+" \uAC1C",1)]),_:2},1024)]),_:2},1024)):(b(),w(le,{key:1},{default:a(()=>[e(G,{class:"row bg-sSkill no-wrap"},{default:a(()=>[e(ke,{class:"shadow-1",color:"ingCircle",icon:"img:images/ingall.png"}),e(he,{vertical:"",class:"q-mx-md"}),c("div",ft,[c("div",vt,ue(Math.round(_.value==="\uD55C\uB07C"?S/3:S))+" \uAC1C\xA0",1),ht])]),_:2},1024)]),_:2},1024))]))),128))]),_:1})]),_:1})]),e(tt,{modelValue:g.value,"onUpdate:modelValue":A[2]||(A[2]=S=>g.value=S)},{default:a(()=>[e(le,null,{default:a(()=>[e(rt,null,{default:a(()=>[yt,e(ct),We(e(U,{dense:"",flat:"",icon:"close"},null,512),[[it]])]),_:1}),e(G,null,{default:a(()=>[kt,L("(\uCD1D 24h)\uC744 \uC804\uBD80 \uBC18\uC601\uD558\uC5EC \uACC4\uC0B0\uD55C \uACB0\uACFC\uC785\uB2C8\uB2E4 ")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),St={class:"column items-center q-gutter-y-md relative-position"},It={class:"row"},xt=c("div",{class:"q-mx-sm"},null,-1),Ct={class:"text-caption q-py-sm"},Lt=c("br",null,null,-1),wt=Object.assign({name:"EnerResult"},{__name:"ResultEnergyComponent",props:{startLoad:{type:Boolean}},setup(re){const q=re,o=Se(),E=m();function s(){E.value.updateSeries([]),o.calcLoading=!0}_e(async()=>{try{if(q.startLoad){const t=await Pe(()=>import("./tooltip.d4f38237.js").then(function(_){return _.p}),["assets/tooltip.d4f38237.js","assets/index.7e091b03.js","assets/index.f2109568.css","assets/QSelect.4af07484.js","assets/AdsenseComponent.1fb39f1f.js","assets/QItem.ad1ddfa8.js","assets/QPage.f1184ced.js"]),g=await Pe(()=>import("./inputStore.8d8a8d80.js").then(function(_){return _.i}),["assets/inputStore.8d8a8d80.js","assets/index.7e091b03.js","assets/index.f2109568.css","assets/AdsenseComponent.1fb39f1f.js","assets/touch.3df10340.js","assets/QItem.ad1ddfa8.js"]),i=t.usePkmDBStore(),l=g.useInputStore(),r=g.useHealerInputStore(),h=g.useSleepTimeInputStore(),y=m(l.pkmName),d=l.pkmLevel,p=l.upNature,J=l.downNature,ie=i.upMult[p],k=i.downMult[J],u=l.subSkills,$=i.searchPkmData("kor_name",y.value),H=l.firstIng,P=l.secondIng,N=l.thirdIng,M=l.mainSkillLevel,K=i.mealRecovery,X=l.hasErb,me=i.erbMaxEnergy,Y=i.maxE,de=r.mainSkillLevel,Q=h.sleepTime,D=r.calcVer,Z=r.healSkillCount,O=i.timeForFull,f=r.upNature,ee=r.downNature,te=r.pkmName,R=r.pkmLevel,B=r.subSkills,pe=i.searchPkmData("kor_name",te),oe=l.erbCount,T=i.erbMult,v=i.enerPerHour,V=i.speedEnerMultList,j=l.useRibbon?i.ribbonList[parseInt(l.ribbonLev,10)-1].inventory:0,x=r.useRibbon?i.ribbonList[parseInt(r.ribbonLev,10)-1].inventory:0,C=r.hasErb,be=r.firstIng,ge=r.secondIng,se=r.thirdIng,z=m(l.useGoodCamp),ae=$.specialty=="skill"?i.collectSkillCount.skill:i.collectSkillCount.else;o.calcEnergyCurve(X,me,j,x,d,u,H,P,N,M,$,K,z.value,Y,de,Q,D,Z,O,p,J,ie,k,oe,T,v,V,pe,B,R,be,ge,se,f,ee,C),o.calcSpeedWithEner(V,D,v,ae),o.calcLeveLIng(D,j,ae,!1,$,d,H,P,N,Q,v,V,u,z.value,M),E.value.updateSeries([{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:o.energyAxis}]),o.calcLoading=!1}}catch(t){console.log("energy calc err",t)}});const I={chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},noData:{text:"\uAE30\uB825 \uACC4\uC0B0 \uC911..."},stroke:{curve:"straight"},xaxis:{title:{text:"\uC2DC\uAC04 \uACBD\uACFC (h)"},type:"numeric",labels:{formatter:function(t){return(t/2).toFixed(1)}}},yaxis:{title:{text:"\uB0A8\uC740 \uAE30\uB825\uB7C9 (%)"},labels:{formatter:function(t){return Math.floor(t)}},min:0,max:150},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#FDD835"],opacityFrom:1,opacityTo:.01,stops:[0,100,100,100]}}},n=[{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:o.energyAxis}];return(t,g)=>{const i=Je("apexchart");return b(),ce(ye,null,[e(Be,{class:"bg-primary text-white text-center"},{default:a(()=>[e(Te,null,{default:a(()=>[L("\uAE30\uB825 \uBCC0\uD654 \uADF8\uB798\uD504")]),_:1})]),_:1}),c("div",St,[e(i,{ref_key:"energyChartRef",ref:E,class:"apexchart_width",type:"area",options:I,series:n},null,512),W(o).finalSkillProcH>0?(b(),w(le,{key:0},{default:a(()=>[e(G,{class:"bg-sSkill"},{default:a(()=>[c("div",It,[e(ke,{size:"md",class:"shadow-1",color:"secondary","text-color":"white",icon:"priority_high"}),xt,c("span",Ct,[L("\uC704 \uADF8\uB798\uD504\uB294 "+ue(W(o).simulationCount)+"\uD68C \uBAA8\uC758\uC2DC\uD589\uC758 \uAE30\uB313\uAC12\uC785\uB2C8\uB2E4.",1),Lt,L("\uB9E4 \uC2DC\uD589\uB9C8\uB2E4 \uACB0\uACFC\uAC00 \uB2EC\uB77C\uC9C8 \uC218 \uC788\uC2B5\uB2C8\uB2E4.")])]),e(U,{class:"full-width",rounded:"",label:"\uAE30\uB825 \uB2E4\uC2DC \uACC4\uC0B0\uD558\uAE30",icon:"restart_alt",color:"positive",onClick:s})]),_:1})]),_:1})):ne("",!0)])],64)}}}),$t=Object.assign({name:"ResultPage"},{__name:"ResultPage",setup(re){const q=Re(),o=Se(),E=Ne(),s=ut(),I=m(!1);Ke(()=>{q.hasEssential()||(Ne().push("/prodcalc"),Xe("\uD3EC\uCF13\uBAAC \uC815\uBCF4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694"))}),Ye(()=>{o.clearCalc()}),_e(()=>{if(q.hasEssential())if(o.calcLoading){Ze("\uACC4\uC0B0 \uC911...");const i=s.platform.is.mobile?100:30;setTimeout(()=>{I.value=!0},i)}else I.value=!1,et()});const n=m(1),t=m();function g(){o.clearCalc(),E.push("/prodcalc")}return(i,l)=>(b(),w(ot,{class:"row justify-center bg-googleDark relative-position"},{default:a(()=>[e(Ae,{modelValue:n.value,"onUpdate:modelValue":l[2]||(l[2]=r=>n.value=r),ref_key:"stepper",ref:t,contracted:"",color:"primary","active-icon":"none",class:"col-xs-12 col-sm-9 col-md-8 col-lg-6 col-xl-6 bg-googleBack",animated:""},{navigation:a(()=>[e(ze,{class:"row justify-between"},{default:a(()=>[e(U,{push:"",icon:"refresh",color:"primary",onClick:g,label:"\uB2E4\uC2DC\uD558\uAE30","text-color":"white"}),c("div",null,[n.value>1?(b(),w(U,{key:0,flat:"",color:"primary",onClick:l[0]||(l[0]=r=>t.value.previous()),label:"\uB4A4\uB85C",class:"q-ml-sm"})):ne("",!0),n.value<2?(b(),w(U,{key:1,onClick:l[1]||(l[1]=r=>t.value.next()),color:"primary",label:"\uB2E4\uC74C"})):ne("",!0)])]),_:1})]),default:a(()=>[e(we,{name:1,title:"\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C",icon:"assignment"},{default:a(()=>[W(s).platform.is.mobile?(b(),w(De,{key:0,class:"full-width q-py-sm",style:{"min-height":"50px"},"ad-style":"display:block; width:100%;height:250px;","ad-slot":"4218885917"})):ne("",!0),e(_t,{"start-load":I.value},null,8,["start-load"])]),_:1}),e(we,{name:2,title:"\uAE30\uB825 \uADF8\uB798\uD504",icon:"favorite"},{default:a(()=>[e(wt,{"start-load":I.value},null,8,["start-load"])]),_:1})]),_:1},8,["modelValue"]),W(s).platform.is.desktop?(b(),w(De,{key:0,class:"gt-sm q-ml-md",style:{position:"sticky",top:"60px"},"ad-style":"display:inline-block;width:300px; height:600px; position: sticky; top: 60px;","ad-slot":"9801335336"})):ne("",!0)]),_:1}))}});export{$t as default};
