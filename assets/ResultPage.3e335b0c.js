import{u as Be,d as Ye,c as We,Q as Je,a as De,b as Xe}from"./inputStore.8e89231e.js";import{r as m,j as U,a as Ze,aU as Le,P as w,a3 as pe,V as e,T as o,W as i,a5 as Oe,Z as N,Q as Ne,aK as He,U as z,_ as X,a2 as Z,X as ve,Y as ee,k as et,a1 as tt,S as _e,aV as Me,an as Re,o as at,aR as lt,b as ot,aI as nt,aJ as st}from"./index.fc5b4e27.js";import{b as rt,Q as ct}from"./QPage.8c957b74.js";import{d as Te,e as Fe}from"./QItem.638402cf.js";import{Q as it}from"./QImg.04147f93.js";import{a as ut,u as mt,Q as Ve,t as Qe}from"./tooltip.cf43df26.js";import{Q as dt}from"./QSelect.2e8849d7.js";import{Q as j,b as D,a as pt,C as vt}from"./ClosePopup.0aff8d73.js";import{Q as de}from"./QSeparator.5ed5ab75.js";import{Q as gt}from"./QSpace.63cbce1a.js";import{u as xe}from"./finalCalcStore.8037f07d.js";import{u as ht}from"./use-quasar.8b015399.js";import"./use-prevent-scroll.578714c2.js";import"./touch.3df10340.js";const kt={class:"column items-center q-gutter-y-md relative-position"},ft={class:"full-width row justify-between"},bt={class:"text-h5 text-center text-weight-bold clean-wrap"},St=i("span",{class:"text-subtitle2"},"(\uAE30\uB313\uAC12)",-1),_t={class:"col"},yt={class:"text-h5 q-py-sm"},It={key:0,class:"col"},Ct={class:"text-h5 q-py-sm"},Et={key:1,class:"col"},wt={class:"text-h5 q-py-sm"},Lt={key:2,class:"col"},xt={class:"row q-py-sm"},Pt={class:"text-h5 no-wrap"},Dt=i("div",{class:"text-subtitle1 no-wrap"},"(\uB098\uBA38\uC9C0 \uBAA8\uB4E0 \uC2DD\uC7AC\uB8CC)",-1),Nt=i("div",null,"\uB3C4\uC6C0\uB9D0",-1),Ht=i("span",{class:"text-bold"},' "\uC218\uBA74 + \uD65C\uB3D9\uC2DC\uAC04"',-1),Mt=Object.assign({name:"IngResult"},{__name:"ResultProdComponent",props:{startLoad:{type:Boolean}},setup(ge){const G=ge,a=ut(),g=mt(),n=Be(),L=Ye(),r=We(),t=xe(),h=m(!1),l=m(g.fetchImage("pkm",n.selectedPkmDex)),s=m(n.pkmName),c=n.pkmLevel,S=n.upNature,_=n.downNature,d=a.upMult[S],p=a.downMult[_],te=n.hbCount,he=a.hbMult,y=n.subSkills,u=a.searchPkmData("name",a.convertKorEn(s.value)),H=a.maxHS,M=n.evoCount,K=n.firstIng,k=n.secondIng,f=n.thirdIng,R=n.mainSkillLevel,ae=a.mealRecovery,le=n.hasErb,oe=a.erbMaxEnergy,ye=n.useRibbon?a.ribbonList[parseInt(n.ribbonLev,10)-1].speed[n.leftEvo]:0,V=n.useRibbon?a.ribbonList[parseInt(n.ribbonLev,10)-1].inventory:0,ne=a.maxE,Q=a.totalMainSkill,B=r.mainSkillLevel,Y=L.sleepTime,b=r.calcVer,se=r.healSkillCount,re=a.timeForFull,O=r.upNature,T=r.downNature,Ie=r.pkmName,ce=r.pkmLevel,F=r.subSkills,x=a.searchPkmData("name",a.convertKorEn(Ie)),q=n.erbCount,A=a.erbMult,P=a.enerPerHour,I=a.speedEnerMultList,ke=r.evoCount,Ce=r.hasErb,fe=r.useRibbon?a.ribbonList[parseInt(r.ribbonLev,10)-1].speed[r.leftEvo]:0,W=r.useRibbon?a.ribbonList[parseInt(r.ribbonLev,10)-1].inventory:0,ie=u.specialty=="skill"?a.collectSkillCount.skill:a.collectSkillCount.else,ue=["\uD55C\uB07C","1\uC77C"],C=m(ue[0]),Ee=m(g.fetchIcon("ing",K.replace(/\s/g,"").toLowerCase())),be=m(g.fetchIcon("ing",k.replace(/\s/g,"").toLowerCase())),we=m(g.fetchIcon("ing",f.replace(/\s/g,"").toLowerCase())),J=r.secondIng,Pe=r.thirdIng,$=m(n.useGoodCamp),qe=U(()=>$.value?"":"hidden"),Ae=m(n.useRibbon),$e=U(()=>Ae.value?"":"invisible"),Ue=U(()=>s.value+"\uC758 "+(C.value==="\uD55C\uB07C"?"\uD55C\uB07C\uB2F9":"\uD558\uB8E8")+" \uC0DD\uC0B0\uB7C9");Ze(()=>{n.hasEssential()&&t.onlyBaseSpeed===0&&(t.calcLoading=!0)}),Le(async()=>{try{if(G.startLoad){let me={},v={},E={},Se={};u.skill.name.includes("Metronome")&&(await a.fetchPkmData("LEAFEON"),await a.fetchPkmData("UMBREON"),await a.fetchPkmData("VAPOREON"),await a.fetchPkmData("SYLVEON"),me=a.searchPkmData("name","VAPOREON").skill,v=a.searchPkmData("name","UMBREON").skill,E=a.searchPkmData("name","LEAFEON").skill,Se=a.searchPkmData("name","SYLVEON").skill),t.onlyBaseSpeed=t.calcBaseSpeed(ye,c,S,_,d,p,te,he,y,u,H,$.value),t.finalSkillProc=t.calcSkillProc(u,S,_,d,p,y),t.finalIngProc=t.calcIngProc(u,S,_,d,p,y),b==="proVer"?(t.onlyBaseSpeedH=t.calcBaseSpeed(fe,ce,O,T,d,p,te,he,F,x,H,$.value),t.finalSkillProcH=t.calcSkillProc(x,O,T,d,p,F),t.finalIngProcH=t.calcIngProc(x,O,T,d,p,F),t.calcEnergyCurve(le,oe,V,W,Se,v,E,Q,c,M,y,k,f,R,u,ae,$.value,ne,B,Y,b,se,re,S,_,d,p,q,A,P,I,x,ke,F,ce,J,Pe,O,T,Ce)):t.calcEnergyCurve(le,oe,V,W,Se,v,E,Q,c,M,y,k,f,R,u,ae,$.value,ne,B,Y,b,se,re,S,_,d,p,q,A,P,I,x),t.calcSpeedWithEner(I,b,P,ie),b!=="proVer"&&(u.skill.name.includes("Charge Energy")||u.skill.name.includes("Energizing Cheer")||u.skill.name.includes("Energy For Everyone")||u.skill.name.includes("Metronome"))&&(t.calcEnergyCurve(le,oe,V,W,Se,v,E,Q,c,M,y,k,f,R,u,ae,$.value,ne,B,Y,b,se,re,S,_,d,p,q,A,P,I,x,ke,F,ce,J,Pe,O,T),t.calcSpeedWithEner(I,b,P,ie)),t.calcLeveLIng(b,V,me,Q,!1,u,c,K,k,f,Y,P,I,M,y,$.value,R),t.calcLoading=!1}}catch(me){console.log("ing production calc err",me)}});const je=U(()=>C.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[K]/3):Math.round(t.totalIngCalc[K])),ze=U(()=>C.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[k]/3):Math.round(t.totalIngCalc[k])),Ge=U(()=>C.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[f]/3):Math.round(t.totalIngCalc[f])),Ke=U(()=>C.value==="\uD55C\uB07C"?(t.totalIngCalc.all/3).toFixed(2):t.totalIngCalc.all.toFixed(2));return(me,v)=>(w(),pe(Oe,null,[e(Te,{class:"bg-primary text-white text-center"},{default:o(()=>[e(Fe,null,{default:o(()=>[N("\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C")]),_:1})]),_:1}),i("div",kt,[e(it,{alt:"Pokemon image",src:l.value,fit:"scale-down",style:{"max-width":"300px"},"no-spinner":""},null,8,["src"]),e(j,{bordered:"",class:"full-width bg-googleBack"},{default:o(()=>[e(D,null,{default:o(()=>[i("div",ft,[i("div",null,[e(Ne,{class:He(qe.value),size:"xl",name:"img:images/goodcampticket.png"},{default:o(()=>[e(Ve,{"hide-delay":z(Qe)()},{default:o(()=>[N(" \uC88B\uC740 \uCEA0\uD504 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"]),e(Ne,{class:He($e.value),size:"xl",name:"img:images/ribbon.png"},{default:o(()=>[e(Ve,{"hide-delay":z(Qe)()},{default:o(()=>[N(" \uAD7F\uB098\uC787\uB9AC\uBCF8 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"])]),e(dt,{outlined:"",dense:"",modelValue:C.value,"onUpdate:modelValue":v[0]||(v[0]=E=>C.value=E),options:ue},null,8,["modelValue"])]),i("div",bt,[N(X(Ue.value)+" ",1),St,e(Z,{color:"grey-5",icon:"help",round:"",flat:"",dense:"",onClick:v[1]||(v[1]=E=>h.value=!0)})])]),_:1}),e(de,{inset:""}),e(D,{class:"column q-gutter-y-md"},{default:o(()=>[i("div",_t,[e(j,null,{default:o(()=>[e(D,{class:"row bg-sSkill"},{default:o(()=>[e(ve,{class:"shadow-1",color:"ingCircle",icon:Ee.value},null,8,["icon"]),e(de,{vertical:"",class:"q-mx-md"}),i("div",yt,X(je.value)+" \uAC1C",1)]),_:1})]),_:1})]),z(t).checkSecondDisplay?(w(),pe("div",It,[e(j,null,{default:o(()=>[e(D,{class:"row bg-sSkill"},{default:o(()=>[e(ve,{class:"shadow-1",color:"ingCircle",icon:be.value},null,8,["icon"]),e(de,{vertical:"",class:"q-mx-md"}),i("span",Ct,X(ze.value)+" \uAC1C",1)]),_:1})]),_:1})])):ee("",!0),z(t).checkThirdDisplay?(w(),pe("div",Et,[e(j,null,{default:o(()=>[e(D,{class:"row bg-sSkill"},{default:o(()=>[e(ve,{class:"shadow-1",color:"ingCircle",icon:we.value},null,8,["icon"]),e(de,{vertical:"",class:"q-mx-md"}),i("span",wt,X(Ge.value)+" \uAC1C",1)]),_:1})]),_:1})])):ee("",!0),z(t).checkIngSkillDisplay?(w(),pe("div",Lt,[e(j,null,{default:o(()=>[e(D,{class:"row bg-sSkill no-wrap"},{default:o(()=>[e(ve,{class:"shadow-1",color:"ingCircle",icon:"img:images/ingall.png"}),e(de,{vertical:"",class:"q-mx-md"}),i("div",xt,[i("div",Pt,X(Ke.value)+" \uAC1C\xA0",1),Dt])]),_:1})]),_:1})])):ee("",!0)]),_:1})]),_:1})]),e(rt,{modelValue:h.value,"onUpdate:modelValue":v[2]||(v[2]=E=>h.value=E)},{default:o(()=>[e(j,null,{default:o(()=>[e(pt,null,{default:o(()=>[Nt,e(gt),et(e(Z,{dense:"",flat:"",icon:"close"},null,512),[[vt]])]),_:1}),e(D,null,{default:o(()=>[Ht,N("(\uCD1D 24h)\uC744 \uC804\uBD80 \uBC18\uC601\uD558\uC5EC \uACC4\uC0B0\uD55C \uACB0\uACFC\uC785\uB2C8\uB2E4 ")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Rt={class:"column items-center q-gutter-y-md relative-position"},Vt={class:"row"},Qt=i("div",{class:"q-mx-sm"},null,-1),Bt={class:"text-caption q-py-sm"},Ot=i("br",null,null,-1),Tt=Object.assign({name:"EnerResult"},{__name:"ResultEnergyComponent",props:{startLoad:{type:Boolean}},setup(ge){const G=ge,a=xe(),g=m();function n(){g.value.updateSeries([]),a.calcLoading=!0}Le(async()=>{try{if(G.startLoad){const t=await Me(()=>import("./tooltip.cf43df26.js").then(function(J){return J.p}),["assets/tooltip.cf43df26.js","assets/index.fc5b4e27.js","assets/index.f2109568.css","assets/QSelect.2e8849d7.js","assets/use-prevent-scroll.578714c2.js","assets/QItem.638402cf.js","assets/QPage.8c957b74.js","assets/use-quasar.8b015399.js"]),h=await Me(()=>import("./inputStore.8e89231e.js").then(function(J){return J.i}),["assets/inputStore.8e89231e.js","assets/index.fc5b4e27.js","assets/index.f2109568.css","assets/use-prevent-scroll.578714c2.js","assets/touch.3df10340.js","assets/QItem.638402cf.js"]),l=t.usePkmDBStore(),s=h.useInputStore(),c=h.useHealerInputStore(),S=h.useSleepTimeInputStore(),_=m(s.pkmName),d=s.pkmLevel,p=s.upNature,te=s.downNature,he=l.upMult[p],y=l.downMult[te],u=s.subSkills,H=l.searchPkmData("name",l.convertKorEn(_.value)),M=s.evoCount,K=s.firstIng,k=s.secondIng,f=s.thirdIng,R=s.mainSkillLevel,ae=l.mealRecovery,le=s.hasErb,oe=l.erbMaxEnergy,ye=l.maxE,V=l.totalMainSkill,ne=c.mainSkillLevel,Q=S.sleepTime,B=c.calcVer,Y=c.healSkillCount,b=l.timeForFull,se=c.upNature,re=c.downNature,O=c.pkmName,T=c.pkmLevel,Ie=c.subSkills,ce=l.searchPkmData("name",l.convertKorEn(O)),F=s.erbCount,x=l.erbMult,q=l.enerPerHour,A=l.speedEnerMultList,P=c.evoCount,I=s.useRibbon?l.ribbonList[parseInt(s.ribbonLev,10)-1].inventory:0,ke=c.useRibbon?l.ribbonList[parseInt(c.ribbonLev,10)-1].inventory:0,Ce=c.hasErb;let fe={},W={},ie={},ue={};H.skill.name.includes("Metronome")&&(await l.fetchPkmData("LEAFEON"),await l.fetchPkmData("UMBREON"),await l.fetchPkmData("VAPOREON"),await l.fetchPkmData("SYLVEON"),fe=l.searchPkmData("name","VAPOREON").skill,W=l.searchPkmData("name","UMBREON").skill,ie=l.searchPkmData("name","LEAFEON").skill,ue=l.searchPkmData("name","SYLVEON").skill);const C=c.secondIng,Ee=c.thirdIng,be=m(s.useGoodCamp),we=H.specialty=="skill"?l.collectSkillCount.skill:l.collectSkillCount.else;a.calcEnergyCurve(le,oe,I,ke,ue,W,ie,V,d,M,u,k,f,R,H,ae,be.value,ye,ne,Q,B,Y,b,p,te,he,y,F,x,q,A,ce,P,Ie,T,C,Ee,se,re,Ce),a.calcSpeedWithEner(A,B,q,we),a.calcLeveLIng(B,I,fe,V,!1,H,d,K,k,f,Q,q,A,M,u,be.value,R),g.value.updateSeries([{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:a.energyAxis}]),a.calcLoading=!1}}catch(t){console.log("energy calc err",t)}});const L={chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},noData:{text:"\uAE30\uB825 \uACC4\uC0B0 \uC911..."},stroke:{curve:"straight"},xaxis:{title:{text:"\uC2DC\uAC04 \uACBD\uACFC (h)"},type:"numeric",labels:{formatter:function(t){return(t/2).toFixed(1)}}},yaxis:{title:{text:"\uB0A8\uC740 \uAE30\uB825\uB7C9 (%)"},labels:{formatter:function(t){return Math.floor(t)}},min:0,max:150},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#FDD835"],opacityFrom:1,opacityTo:.01,stops:[0,100,100,100]}}},r=[{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:a.energyAxis}];return(t,h)=>{const l=tt("apexchart");return w(),pe(Oe,null,[e(Te,{class:"bg-primary text-white text-center"},{default:o(()=>[e(Fe,null,{default:o(()=>[N("\uAE30\uB825 \uBCC0\uD654 \uADF8\uB798\uD504")]),_:1})]),_:1}),i("div",Rt,[e(l,{ref_key:"energyChartRef",ref:g,class:"apexchart_width",type:"area",options:L,series:r},null,512),z(a).finalSkillProcH>0?(w(),_e(j,{key:0},{default:o(()=>[e(D,{class:"bg-sSkill"},{default:o(()=>[i("div",Vt,[e(ve,{size:"md",class:"shadow-1",color:"secondary","text-color":"white",icon:"priority_high"}),Qt,i("span",Bt,[N("\uC704 \uADF8\uB798\uD504\uB294 "+X(z(a).simulationCount)+"\uD68C \uBAA8\uC758\uC2DC\uD589\uC758 \uAE30\uB313\uAC12\uC785\uB2C8\uB2E4.",1),Ot,N("\uB9E4 \uC2DC\uD589\uB9C8\uB2E4 \uACB0\uACFC\uAC00 \uB2EC\uB77C\uC9C8 \uC218 \uC788\uC2B5\uB2C8\uB2E4.")])]),e(Z,{class:"full-width",rounded:"",label:"\uAE30\uB825 \uB2E4\uC2DC \uACC4\uC0B0\uD558\uAE30",icon:"restart_alt",color:"positive",onClick:n})]),_:1})]),_:1})):ee("",!0)])],64)}}}),ea=Object.assign({name:"ResultPage"},{__name:"ResultPage",setup(ge){const G=Be(),a=xe(),g=Re(),n=ht(),L=m(!1);at(()=>{G.hasEssential()||(Re().push("/prodcalc"),lt("\uD3EC\uCF13\uBAAC \uC815\uBCF4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694"))}),ot(()=>{a.clearCalc()}),Le(()=>{if(G.hasEssential())if(a.calcLoading){nt("\uACC4\uC0B0 \uC911...");const l=n.platform.is.mobile?100:30;setTimeout(()=>{L.value=!0},l)}else L.value=!1,st()});const r=m(1),t=m();function h(){a.clearCalc(),g.push("/prodcalc")}return(l,s)=>(w(),_e(ct,{class:"row justify-center bg-googleDark relative-position"},{default:o(()=>[e(Xe,{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=c=>r.value=c),ref_key:"stepper",ref:t,contracted:"",color:"primary","active-icon":"none",class:"col-xs-12 col-sm-9 col-md-8 col-lg-6 col-xl-6 bg-googleBack",animated:""},{navigation:o(()=>[e(Je,{class:"row justify-between"},{default:o(()=>[e(Z,{push:"",icon:"refresh",color:"primary",onClick:h,label:"\uB2E4\uC2DC\uD558\uAE30","text-color":"white"}),i("div",null,[r.value>1?(w(),_e(Z,{key:0,flat:"",color:"primary",onClick:s[0]||(s[0]=c=>t.value.previous()),label:"\uB4A4\uB85C",class:"q-ml-sm"})):ee("",!0),r.value<2?(w(),_e(Z,{key:1,onClick:s[1]||(s[1]=c=>t.value.next()),color:"primary",label:"\uB2E4\uC74C"})):ee("",!0)])]),_:1})]),default:o(()=>[e(De,{name:1,title:"\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C",icon:"assignment"},{default:o(()=>[e(Mt,{"start-load":L.value},null,8,["start-load"])]),_:1}),e(De,{name:2,title:"\uAE30\uB825 \uADF8\uB798\uD504",icon:"favorite"},{default:o(()=>[e(Tt,{"start-load":L.value},null,8,["start-load"])]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{ea as default};
