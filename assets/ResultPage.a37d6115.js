import{d as _t,e as Ct,f as ht,k as xt,n as bt,i as Qe,j as $e,g as wt,t as Mt,Q as Pt,r as Nt,l as It,s as vt,o as Ht,p as mt,q as Bt}from"./tooltip.0d71ccd0.js";import{c as Tt,k as ve,h as Lt,g as Rt,aH as $t,r as k,a as qt,aM as nt,F as ke,R as je,J as n,H as b,K as O,T as gt,M as Ee,ai as Vt,am as Qt,I as Ae,N as Fe,Q as Ge,L as Oe,O as Ft,G as Ue,aN as ft,P as We,aO as At,ac as dt,o as Et,b as Ot}from"./index.8ed91722.js";import{a as zt,Q as Dt}from"./QPage.98f2983b.js";import{a as jt,c as Gt,j as kt,k as yt}from"./QItem.c2f6cff8.js";import"./use-timeout.0212a1e0.js";const Kt={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},ot={xs:2,sm:4,md:8,lg:16,xl:24};var De=Tt({name:"QSeparator",props:{...jt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(f){const q=Rt(),e=Gt(f,q.proxy.$q),c=ve(()=>f.vertical===!0?"vertical":"horizontal"),X=ve(()=>` q-separator--${c.value}`),d=ve(()=>f.inset!==!1?`${X.value}-${Kt[f.inset]}`:""),W=ve(()=>`q-separator${X.value}${d.value}`+(f.color!==void 0?` bg-${f.color}`:"")+(e.value===!0?" q-separator--dark":"")),p=ve(()=>{const a={};if(f.size!==void 0&&(a[f.vertical===!0?"width":"height"]=f.size),f.spaced!==!1){const h=f.spaced===!0?`${ot.md}px`:f.spaced in ot?`${ot[f.spaced]}px`:f.spaced,C=f.vertical===!0?["Left","Right"]:["Top","Bottom"];a[`margin${C[0]}`]=a[`margin${C[1]}`]=h}return a});return()=>Lt("hr",{class:W.value,style:p.value,"aria-orientation":c.value})}});const st=$t("production-calc",()=>{const f=k(0),q=k(0),e=k([]),c=k(0),X=k(0),d=k(0),W=k(0),p=k(0),a=k(!1),h=k(!1),C=k(!1),l=k({}),B=k({}),te=k(!1),r=2,T=1/30,ye=1/(60*30),Me=1e4;function me(_={},V,u,g,s,o=[]){const v=_.ingredientPercentage;let t=1;V==="\uC2DD\uC7AC\uB8CC \uB3C4\uC6B0\uBBF8 \uD655\uB960 \u25B2\u25B2"?t=g:u==="\uC2DD\uC7AC\uB8CC \uB3C4\uC6B0\uBBF8 \uD655\uB960 \u25BD\u25BD"&&(t=s);let m=1;for(let i=0;i<o.length;i++)(o[i].label==="\uC2DD\uC7AC\uB8CC \uD655\uB960 \uC5C5 M"||o[i].label==="\uC2DD\uC7AC\uB8CC \uD655\uB960 \uC5C5 s")&&(m+=o[i].mult);return v*t*m/100}function ne(_={},V,u,g,s,o=[]){const v=_.skillPercentage,t=V==="\uBA54\uC778 \uC2A4\uD0AC \uBC1C\uB3D9\uB960 \u25B2\u25B2"?g:u==="\uBA54\uC778 \uC2A4\uD0AC \uBC1C\uB3D9\uB960 \u25BD\u25BD"?s:1;let m=1;for(let i=0;i<o.length;i++)(o[i].label==="\uC2A4\uD0AC \uD655\uB960 \uC5C5 M"||o[i].label==="\uC2A4\uD0AC \uD655\uB960 \uC5C5 s")&&(m+=o[i].mult);return v*t*m/100}function Pe(_,V,u,g,s,o,v,t=[],m={},i,M){const A=V==="\uB3C4\uC6B0\uBBF8 \uC2A4\uD53C\uB4DC \u25B2\u25B2"?g:u==="\uB3C4\uC6B0\uBBF8 \uC2A4\uD53C\uB4DC \u25BD\u25BD"?s:1,P=o*v;let N=0;for(let y=0;y<t.length;y++)(t[y].label==="\uB3C4\uC6B0\uBBF8 \uC2A4\uD53C\uB4DC M"||t[y].label==="\uB3C4\uC6B0\uBBF8 \uC2A4\uD53C\uB4DC s")&&(N+=t[y].mult);N=N+P>=i?i:N+P;const z=(501-_)/500*A*(1-N),w=M?.8:1;return m.frequency*z*ye*w}function Se(_,V,u,g,s,o,v,t,m,i,M,A,P="",N,z,w,y,L,R,F,Q,K,$,J,de,Ne=0,le=[],pe=0,xe="",Ie="",Y="",He=""){e.value=[];let Z=de.skill.amount[A-1],S=t.skill.amount[v-1],ce=P.split(":");const re=parseInt(ce[0],10),ie=parseInt(ce[1],10),Be=24*r-re*r-ie*T,Je=Be-1,Ye=Je-Math.floor((Be-7*r)/2),ct=Ye-6*r;function Ze(ee){for(const ue of m)if(ee>=ue.e)return ue.m}let et=1;y==="\uAE30\uB825 \uD68C\uBCF5\uB7C9 \u25B2\u25B2"?(et=R,Z=Math.floor(Z*R),S=Math.floor(S*R)):L==="\uAE30\uB825 \uD68C\uBCF5\uB7C9 \u25BD\u25BD"&&(et=F,Z=Math.floor(Z*F),S=Math.floor(S*F));const rt=Q*K+1;let ae=100/(w/r)*(re*r+ie*T)*et*rt;ae=ae>100?100:Math.floor(ae);let Te=!1,qe=1;t.skill.name.includes("Charge Energy")?(Te=!0,qe=1):t.skill.name.includes("Energizing Cheer")?(Te=!0,qe=5):t.skill.name.includes("Metronome")&&(Te=!0,qe=(_-1)/(6/5));function be(ee){return ee>M?M:ee}if(N!=="proVer"){let x=function(I,oe=1,fe=Z){let H=0;switch(N!=="lightVer"&&(fe=0),I===0?H=ae+fe:e.value[e.value.length-1].y<=0?H=fe*oe:H=e.value[e.value.length-1].y+fe*oe-Math.floor($/r),H){case H>M:return M;case H<0:return 0;default:return H}};e.value.push({x:0,y:ae});const ee=Math.floor(Be/z);let ue=1;Te&&(ue=Math.round(z*(t.skillPercentage/de.skillPercentage)*(de.frequency/t.frequency)/qe));const we=Math.floor(Be/ue);let Ve=z;for(let I=0;I<Be+1;I++){let oe=x(I,0);if(e.value.push({x:I,y:oe}),I===0&&(Ve-=1),(I===ct||I===Ye||I===Je)&&e.value.push({x:I,y:be(oe+Ze(oe))}),N==="lightVer"&&I>0){if(Te&&I%we===0&&ue>0){let fe=x(I,1,S);e.value.push({x:I,y:be(fe)}),ue-=1}if(I%ee===0&&Ve>0){let fe=x(I);e.value.push({x:I,y:be(fe)}),Ve-=1}}}}else if(N==="proVer"){let oe=function(H,D,he){let E=he>M?M:he;H>0?e.value[D].y=(e.value[D].y*H+E)/(H+1):e.value.push({x:D,y:E})},fe=function(H){let D=0;return x>0&&(x=x-1*($/r),x>M&&(x=M)),x<=0&&(x=0),e.value[H-1].y>0&&(D=e.value[H-1].y-1*($/r),D>M&&(D=M)),D<0?0:D},ee=de.skill.amount[A-1],ue=1;Y==="\uAE30\uB825 \uD68C\uBCF5\uB7C9 \u25B2\u25B2"?(ue=R,ee=Math.floor(ee*R)):He==="\uAE30\uB825 \uD68C\uBCF5\uB7C9 \u25BD\u25BD"&&(ue=F,ee=Math.floor(ee*F));let we=100/(w/r)*(re*r+ie*T)*ue*rt;we=we>100?100:we;let x=we,Ve=.8,I=.4;for(let H=0;H<Me;H++){Math.random()<Ve?(x+=ee,Math.random()<I?oe(H,0,be(ae+S+Z)):oe(H,0,be(ae+Z))):Math.random()<I?oe(H,0,be(ae+S)):oe(H,0,be(ae));let D=q.value,he=f.value;for(let E=1;E<Be+1;E++){let Ke=function(j){for(let G=0;G<J.length;G++)if(j>J[G].e)return tt=J[G].e,J[G].m;return J[J.length-1].m},ut=function(j,G,Re){return(G-Re)/($/r)+j};const it=x;let ge=fe(E),tt=0;const lt=Ke(x),Le=Ke(it);let ze=0;if(lt!==Le){let j=ut(E-1,it,tt)-(E-1);D=D-(j/Le+(1-j)/lt)%q.value,ze=Math.floor((j/Le+(1-j)/lt)/q.value)}else D=D-1/Le%q.value,ze=Math.floor(1/Le/q.value);if(D<=0&&(ze+=1,D+=q.value),Te){let j=0;const G=Ke(ge),Re=Ke(e.value[E-1].y);if(G!==Re){let Xe=ut(E-1,e.value[E-1].y,tt)-(E-1);he=he-(Xe/Re+(1-Xe)/G)%f.value,j=Math.floor((Xe/Re+(1-Xe)/G)/f.value)}else he=he-1/Le%q.value,j=Math.floor(1/Le/q.value);he<=0&&(j+=1,he+=f.value);const at=1-Math.pow(1-d.value/qe,j);j>0&&Math.random()<at&&(ge+=S)}const St=1-Math.pow(1-W.value,ze);if((E===ct||E===Ye||E===Je)&&(ge+=Ze(ge),x+=Ze(x)),ze>0&&Math.random()<St&&(ge+=Z,x+=ee),oe(H,E,be(ge)),E===Be){let j=x,G=0;if(ge-Math.ceil($/r*(re*r+ie*T))<0?G=0:G=ge-Math.ceil($/r*(re*r+ie*T)),x-Math.ceil($/r*(re*r+ie*T))<0?x=0:x=x-Math.ceil($/r*(re*r+ie*T)),ae=G+ae>100?100:G+ae,x=x+we>100?100:x+we,Te){const at=U(P,ge,J,t,u,g,V,s,o,$,i);I=1-Math.pow(1-d.value/qe,at)}const Re=U(P,j,J,de,Ne,le,pe,xe,Ie,$,"healer",i);Ve=1-Math.pow(1-W.value,Re)}}}}}function _e(_=[],V="target",u){B.value={},_.forEach(t=>{B.value[t.m]=0});let g=0;function s(t){for(let m=0;m<_.length;m++)if(t>_[m].e)return g=_[m].e,_[m].m;return g=_[_.length-1].e,_[_.length-1].m}function o(t,m,i){return(i-e.value[t].y)/((e.value[t].y-e.value[m].y)/(e.value[t].x-e.value[m].x))+e.value[t].x}for(let t=0;t<e.value.length-1;t++)if(e.value[t].x!==e.value[t+1].x){let m=s(e.value[t+1].y),i=e.value[t].x,M=!0,A=e.value[t+1].x;V==="proVer"&&e.value[t].y<=e.value[t+1].y&&(m=s(e.value[t].y-u/r*(e.value[t+1].x-e.value[t].x)));let P=s(e.value[t].y);for(;M;)P===m?(B.value[P]+=e.value[t+1].x-i,M=!1):(A=o(t,t+1,g),B.value[P]+=A-i,P=s(g),i=A)}let v=0;for(let t in B.value)v+=B.value[t]/parseFloat(t);p.value=Math.floor(v/f.value),te.value=!1}function se(_,V=!1,u={},g,s,o,v,t,m,i,M,A,P,N){const z=U(t,e.value[e.value.length-1].y,i,u,M,A,g,o,v,m,P);function w(y,L){let R=0;return L<30?R=u[`ingredient${L}`].amount:R=u[`ingredient${L}`].find(F=>F.ingredient.longName===y).amount,V?z*c.value*R:(p.value+z)*c.value*R}l.value[s]=w(s,0),g>=30&&(o===s?(l.value[s]=(l.value[s]+w(o,30))/2,a.value=!1):(l.value[s]=l.value[s]/2,l.value[o]=w(o,30)/2,a.value=!0),g>=60&&(l.value[s]=l.value[s]*2/3,s===o?v!==o?(l.value[v]=w(v,60)/3,h.value=!0):(l.value[s]=l.value[s]+w(v,60)/3,h.value=!1):(l.value[o]=l.value[o]*2/3,v===s?(l.value[s]=l.value[s]+w(v,60)/3,h.value=!1):v===o?(l.value[o]=l.value[o]+w(v,60)/3,h.value=!1):(l.value[v]=w(v,60)/3,h.value=!0)))),(u.skill.unit==="ingredients"||u.skill.name==="Metronome")&&(async()=>{try{const L=await(await fetch("https://api.sleepapi.net/api/ingredient")).json(),R=u.skill.name==="Metronome"?_-1:1,F=Math.ceil(u.skill.amount[N-1]/3),Q=1-(1-1/L.length)*(1-1/(L.length-1))*(1-1/(L.length-2)),K=(p.value+z)*d.value*F*Q/R;C.value=!0,l.value[s]+=K,l.value.hasOwnProperty(o)&&(l.value[o]+=K),l.value.hasOwnProperty(v)&&(l.value[v]+=K),l.value.all=K}catch(y){console.log("ing Fetch problem: "+y.message)}})()}function U(_,V,u,g,s,o,v,t,m,i,M="target",A){let P=_.split(":");const N=parseInt(P[0],10),z=parseInt(P[1],10);let w={};u.forEach(S=>{w[S.m]=0});let y=0;function L(S){for(let ce=0;ce<u.length;ce++)if(S>u[ce].e)return y=u[ce].e,u[ce].m;return y=0,u[u.length-1].m}let R=L(V),F=0,Q=(V-y)/(i/r);for(;R!==u[u.length-1].m;)w[R]+=Q-F,R=L(y),F=Q,Q=(V-y)/(i/r);Q=N*r+z*T,w[R]+=Q-F;let K=0;for(let S in w)K+=w[S]/parseFloat(S);let $=0;M==="target"?$=Math.floor(K/f.value):$=Math.floor(K/q.value);let J=!1;const de=A?1.2:1;let Ne=(g.carrySize+s*5)*de;for(let S=0;S<o.length;S++)o[S].label==="\uCD5C\uB300 \uC18C\uC9C0 \uC218 \uC5C5 L"||o[S].label==="\uCD5C\uB300 \uC18C\uC9C0 \uC218 \uC5C5 M"||o[S].label==="\uCD5C\uB300 \uC18C\uC9C0 \uC218 \uC5C5 s"?Ne+=o[S].mult:o[S].label==="\uB098\uBB34\uC5F4\uB9E4 \uC218 s"&&(J=!0);function le(S,ce){return g[`ingredient${ce}`].find(ie=>ie.ingredient.longName===S).amount}let pe=0,xe=0,Ie=0,Y=1;switch(!0){case v>=60:Y=3,pe=g.ingredient0.amount*c.value/Y,xe=le(t,30)*c.value/Y,Ie=le(m,60)*c.value/Y;break;case v>=30:Y=2,pe=g.ingredient0.amount*c.value/Y,xe=le(t,30)*c.value/Y;break;default:Y=1,pe=g.ingredient0.amount*c.value/Y}let He=1;g.specialty==="berry"&&(He+=1),J&&(He+=1);const Z=He*(1-c.value);return Math.ceil(Ne/(Z+pe+xe+Ie))>$?$:Math.ceil(Ne/(Z+pe+xe+Ie))}function Ce(){f.value=0,q.value=0,e.value=[],p.value=0,c.value=0,X.value=0,d.value=0,W.value=0,a.value=!1,h.value=!1,C.value=!1,te.value=!1,l.value={},B.value={}}return{onlyBaseSpeed:f,onlyBaseSpeedH:q,energyAxis:e,finalSpeedCount:p,finalIngProc:c,finalIngProcH:X,finalSkillProc:d,finalSkillProcH:W,checkSecondDisplay:a,checkThirdDisplay:h,checkIngSkillDisplay:C,totalIngCalc:l,timeStaying:B,calcLoading:te,convertH:r,convertM:T,convertS:ye,simulationCount:Me,calcIngProc:me,calcBaseSpeed:Pe,calcEnergyCurve:Se,calcSpeedWithEner:_e,clearCalc:Ce,calcSleepSpeedCount:U,calcLeveLIng:se,calcSkillProc:ne}}),Xt={class:"column items-center q-gutter-y-md relative-position"},Ut={class:"full-width row justify-between"},Wt={class:"text-h5 text-center text-weight-bold clean-wrap"},Jt=O("span",{class:"text-subtitle2"},"(\uAE30\uB313\uAC12)",-1),Yt={class:"col"},Zt={class:"text-h5 q-py-sm"},el={key:0,class:"col"},tl={class:"text-h5 q-py-sm"},ll={key:1,class:"col"},al={class:"text-h5 q-py-sm"},ol={key:2,class:"col"},nl={class:"row q-py-sm"},sl={class:"text-h5 no-wrap"},cl=O("div",{class:"text-subtitle1 no-wrap"},"(\uB098\uBA38\uC9C0 \uBAA8\uB4E0 \uC2DD\uC7AC\uB8CC)",-1),rl=Object.assign({name:"IngResult"},{__name:"ResultProdComponent",props:{startLoad:{type:Boolean}},setup(f,{expose:q}){const e=f,c=_t(),X=Ct(),d=ht(),W=xt(),p=bt(),a=st(),h=k(X.fetchImage("pkm",d.selectedPkmDex)),C=k(d.pkmName),l=d.pkmLevel,B=d.upNature,te=d.downNature,r=c.upMult[B],T=c.downMult[te],ye=d.hbCount,Me=c.hbMult,me=d.subSkills,ne=c.searchPkmData("name",c.convertKorEn(C.value)),Pe=c.maxHS,Se=d.evoCount,_e=d.firstIng,se=d.secondIng,U=d.thirdIng,Ce=d.mainSkillLevel,_=c.mealRecovery,V=c.maxE,u=c.totalMainSkill,g=p.mainSkillLevel,s=W.sleepTime,o=p.calcVer,v=p.healSkillCount,t=c.timeForFull,m=p.upNature,i=p.downNature,M=p.pkmName,A=p.pkmLevel,P=p.subSkills,N=c.searchPkmData("name",c.convertKorEn(M)),z=d.erbCount,w=c.erbMult,y=c.enerPerHour,L=c.speedEnerMultList,R=p.evoCount,F=["\uD55C\uB07C","1\uC77C"],Q=k(F[0]),K=k(X.fetchIcon("ing",_e.replace(/\s/g,"").toLowerCase())),$=k(X.fetchIcon("ing",se.replace(/\s/g,"").toLowerCase())),J=k(X.fetchIcon("ing",U.replace(/\s/g,"").toLowerCase())),de=p.secondIng,Ne=p.thirdIng,le=k(d.useGoodCamp),pe=ve(()=>le.value?"":"invisible"),xe=k(!0),Ie=ve(()=>C.value+"\uC758 "+(Q.value==="\uD55C\uB07C"?"\uD55C\uB07C\uB2F9":"\uD558\uB8E8")+" \uC0DD\uC0B0\uB7C9");qt(()=>{d.hasEssential()&&a.onlyBaseSpeed===0&&(a.calcLoading=!0)}),nt(()=>{e.startLoad&&(a.onlyBaseSpeed=a.calcBaseSpeed(l,B,te,r,T,ye,Me,me,ne,Pe,le.value),a.finalSkillProc=a.calcSkillProc(ne,B,te,r,T,me),a.finalIngProc=a.calcIngProc(ne,B,te,r,T,me),o==="proVer"?(a.onlyBaseSpeedH=a.calcBaseSpeed(A,m,i,r,T,ye,Me,P,N,Pe,le.value),a.finalSkillProcH=a.calcSkillProc(N,m,i,r,T,P),a.finalIngProcH=a.calcIngProc(N,m,i,r,T,P),a.calcEnergyCurve(u,l,Se,me,se,U,Ce,ne,_,le.value,V,g,s,o,v,t,B,te,r,T,z,w,y,L,N,R,P,A,de,Ne,m,i)):a.calcEnergyCurve(u,l,Se,me,se,U,Ce,ne,_,le.value,V,g,s,o,v,t,B,te,r,T,z,w,y,L,N),a.calcSpeedWithEner(L,o,y),a.calcLeveLIng(u,!1,ne,l,_e,se,U,s,y,L,Se,me,le.value,Ce))});const Y=ve(()=>Q.value==="\uD55C\uB07C"?Math.round(a.totalIngCalc[_e]/3):Math.round(a.totalIngCalc[_e])),He=ve(()=>Q.value==="\uD55C\uB07C"?Math.round(a.totalIngCalc[se]/3):Math.round(a.totalIngCalc[se])),Z=ve(()=>Q.value==="\uD55C\uB07C"?Math.round(a.totalIngCalc[U]/3):Math.round(a.totalIngCalc[U])),S=ve(()=>Q.value==="\uD55C\uB07C"?(a.totalIngCalc.all/3).toFixed(2):a.totalIngCalc.all.toFixed(2));return q({calcLoading:xe}),(ce,re)=>(ke(),je(gt,null,[n(kt,{class:"bg-primary text-white text-center"},{default:b(()=>[n(yt,null,{default:b(()=>[Ee("\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C")]),_:1})]),_:1}),O("div",Xt,[n(zt,{alt:"Pokemon image",src:h.value,fit:"scale-down",style:{"max-width":"300px"},"no-spinner":""},null,8,["src"]),n(Qe,{bordered:"",class:"full-width bg-googleBack"},{default:b(()=>[n($e,null,{default:b(()=>[O("div",Ut,[n(Vt,{class:Qt(pe.value),size:"xl",name:"img:images/goodcampticket.png"},{default:b(()=>[n(wt,{"hide-delay":Ae(Mt)()},{default:b(()=>[Ee(" \uC88B\uC740 \uCEA0\uD504 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"]),n(Pt,{outlined:"",dense:"",modelValue:Q.value,"onUpdate:modelValue":re[0]||(re[0]=ie=>Q.value=ie),options:F},null,8,["modelValue"])]),O("div",Wt,[Ee(Fe(Ie.value)+" ",1),Jt])]),_:1}),n(De,{inset:""}),n($e,{class:"column q-gutter-y-md"},{default:b(()=>[O("div",Yt,[n(Qe,null,{default:b(()=>[n($e,{class:"row bg-sSkill"},{default:b(()=>[n(Ge,{class:"shadow-1",color:"ingCircle",icon:K.value},null,8,["icon"]),n(De,{vertical:"",class:"q-mx-md"}),O("div",Zt,Fe(Y.value)+" \uAC1C",1)]),_:1})]),_:1})]),Ae(a).checkSecondDisplay?(ke(),je("div",el,[n(Qe,null,{default:b(()=>[n($e,{class:"row bg-sSkill"},{default:b(()=>[n(Ge,{class:"shadow-1",color:"ingCircle",icon:$.value},null,8,["icon"]),n(De,{vertical:"",class:"q-mx-md"}),O("span",tl,Fe(He.value)+" \uAC1C",1)]),_:1})]),_:1})])):Oe("",!0),Ae(a).checkThirdDisplay?(ke(),je("div",ll,[n(Qe,null,{default:b(()=>[n($e,{class:"row bg-sSkill"},{default:b(()=>[n(Ge,{class:"shadow-1",color:"ingCircle",icon:J.value},null,8,["icon"]),n(De,{vertical:"",class:"q-mx-md"}),O("span",al,Fe(Z.value)+" \uAC1C",1)]),_:1})]),_:1})])):Oe("",!0),Ae(a).checkIngSkillDisplay?(ke(),je("div",ol,[n(Qe,null,{default:b(()=>[n($e,{class:"row bg-sSkill no-wrap"},{default:b(()=>[n(Ge,{class:"shadow-1",color:"ingCircle",icon:"img:images/ingall.png"}),n(De,{vertical:"",class:"q-mx-md"}),O("div",nl,[O("div",sl,Fe(S.value)+" \uAC1C\xA0",1),cl])]),_:1})]),_:1})])):Oe("",!0)]),_:1})]),_:1})])],64))}}),il={class:"column items-center q-gutter-y-md relative-position"},ul={class:"row"},vl=O("div",{class:"q-mx-sm"},null,-1),ml={class:"text-caption q-py-sm"},fl=O("br",null,null,-1),dl=Object.assign({name:"EnerResult"},{__name:"ResultEnergyComponent",props:{startLoad:{type:Boolean}},setup(f){const q=f,e=st(),c=k();function X(){c.value.updateSeries([]),e.calcLoading=!0}nt(async()=>{if(q.startLoad){const p=await ft(()=>import("./tooltip.0d71ccd0.js").then(function($){return $.v}),["assets/tooltip.0d71ccd0.js","assets/index.8ed91722.js","assets/index.1a9317ba.css","assets/QItem.c2f6cff8.js","assets/use-timeout.0212a1e0.js"]),a=await ft(()=>import("./tooltip.0d71ccd0.js").then(function($){return $.w}),["assets/tooltip.0d71ccd0.js","assets/index.8ed91722.js","assets/index.1a9317ba.css","assets/QItem.c2f6cff8.js","assets/use-timeout.0212a1e0.js"]),h=p.usePkmDBStore(),C=a.useInputStore(),l=a.useHealerInputStore(),B=a.useSleepTimeInputStore(),te=k(C.pkmName),r=C.pkmLevel,T=C.upNature,ye=C.downNature,Me=h.upMult[T],me=h.downMult[ye],ne=C.subSkills,Pe=h.searchPkmData("name",h.convertKorEn(te.value)),Se=C.evoCount,_e=C.firstIng,se=C.secondIng,U=C.thirdIng,Ce=C.mainSkillLevel,_=h.mealRecovery,V=h.maxE,u=h.totalMainSkill,g=l.mainSkillLevel,s=B.sleepTime,o=l.calcVer,v=l.healSkillCount,t=h.timeForFull,m=l.upNature,i=l.downNature,M=l.pkmName,A=l.pkmLevel,P=l.subSkills,N=h.searchPkmData("name",h.convertKorEn(M)),z=C.erbCount,w=h.erbMult,y=h.enerPerHour,L=h.speedEnerMultList,R=l.evoCount,F=l.secondIng,Q=l.thirdIng,K=k(C.useGoodCamp);e.calcEnergyCurve(u,r,Se,ne,se,U,Ce,Pe,_,K.value,V,g,s,o,v,t,T,ye,Me,me,z,w,y,L,N,R,P,A,F,Q,m,i),e.calcSpeedWithEner(L,o,y),e.calcLeveLIng(u,!1,Pe,r,_e,se,U,s,y,L,Se,ne,K.value,Ce),c.value.updateSeries([{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:e.energyAxis}])}});const d={chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},noData:{text:"\uAE30\uB825 \uACC4\uC0B0 \uC911..."},stroke:{curve:"straight"},xaxis:{title:{text:"\uC2DC\uAC04 \uACBD\uACFC (h)"},type:"numeric",labels:{formatter:function(p){return(p/2).toFixed(1)}}},yaxis:{title:{text:"\uB0A8\uC740 \uAE30\uB825\uB7C9 (%)"},labels:{formatter:function(p){return Math.floor(p)}},min:0,max:150},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#FDD835"],opacityFrom:1,opacityTo:.01,stops:[0,100,100,100]}}},W=[{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:e.energyAxis}];return(p,a)=>{const h=Ft("apexchart");return ke(),je(gt,null,[n(kt,{class:"bg-primary text-white text-center"},{default:b(()=>[n(yt,null,{default:b(()=>[Ee("\uAE30\uB825 \uBCC0\uD654 \uADF8\uB798\uD504")]),_:1})]),_:1}),O("div",il,[n(h,{ref_key:"energyChartRef",ref:c,class:"apexchart_width",type:"area",options:d,series:W},null,512),Ae(e).finalSkillProcH>0?(ke(),Ue(Qe,{key:0},{default:b(()=>[n($e,{class:"bg-sSkill"},{default:b(()=>[O("div",ul,[n(Ge,{size:"md",class:"shadow-1",color:"secondary","text-color":"white",icon:"priority_high"}),vl,O("span",ml,[Ee("\uC704 \uADF8\uB798\uD504\uB294 "+Fe(Ae(e).simulationCount)+"\uD68C \uBAA8\uC758\uC2DC\uD589\uC758 \uAE30\uB313\uAC12\uC785\uB2C8\uB2E4.",1),fl,Ee("\uB9E4 \uC2DC\uD589\uB9C8\uB2E4 \uACB0\uACFC\uAC00 \uB2EC\uB77C\uC9C8 \uC218 \uC788\uC2B5\uB2C8\uB2E4.")])]),n(We,{class:"full-width",rounded:"",label:"\uAE30\uB825 \uB2E4\uC2DC \uACC4\uC0B0\uD558\uAE30",icon:"restart_alt",color:"positive",onClick:X})]),_:1})]),_:1})):Oe("",!0)])],64)}}});function pt(f){At.create({color:"red-4",textColor:"white",icon:"block",message:f})}const Sl=Object.assign({name:"ResultPage"},{__name:"ResultPage",setup(f){const q=ht(),e=st(),c=dt(),X=Nt(),d=k(!1);Et(()=>{q.hasEssential()||(dt().push("/prodcalc"),pt("\uD3EC\uCF13\uBAAC \uC815\uBCF4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694"))}),Ot(()=>{e.clearCalc()});let W=null;nt(()=>{if(q.hasEssential())if(e.calcLoading){It("\uACC4\uC0B0 \uC911..."),W=setTimeout(()=>{e.calcLoading&&(vt(),d.value=!1,c.push("prodCalc"),pt("\uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. \uC7A0\uC2DC \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694"))},12e4);const C=X.platform.is.mobile?100:30;setTimeout(()=>{d.value=!0},C)}else clearTimeout(W),d.value=!1,vt()});const p=k(1),a=k();function h(){e.clearCalc(),c.push("/prodcalc")}return(C,l)=>(ke(),Ue(Dt,{class:"row justify-center bg-googleDark relative-position"},{default:b(()=>[n(Bt,{modelValue:p.value,"onUpdate:modelValue":l[2]||(l[2]=B=>p.value=B),ref_key:"stepper",ref:a,contracted:"",color:"primary","active-icon":"none",class:"col-xs-12 col-sm-9 col-md-8 col-lg-6 col-xl-4 bg-googleBack",animated:""},{navigation:b(()=>[n(Ht,{class:"row justify-between"},{default:b(()=>[n(We,{push:"",icon:"refresh",color:"primary",onClick:h,label:"\uB2E4\uC2DC\uD558\uAE30","text-color":"white"}),O("div",null,[p.value>1?(ke(),Ue(We,{key:0,flat:"",color:"primary",onClick:l[0]||(l[0]=B=>a.value.previous()),label:"\uB4A4\uB85C",class:"q-ml-sm"})):Oe("",!0),p.value<2?(ke(),Ue(We,{key:1,onClick:l[1]||(l[1]=B=>a.value.next()),color:"primary",label:"\uB2E4\uC74C"})):Oe("",!0)])]),_:1})]),default:b(()=>[n(mt,{name:1,title:"\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C",icon:"assignment"},{default:b(()=>[n(rl,{"start-load":d.value},null,8,["start-load"])]),_:1}),n(mt,{name:2,title:"\uAE30\uB825 \uADF8\uB798\uD504",icon:"favorite"},{default:b(()=>[n(dl,{"start-load":d.value},null,8,["start-load"])]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{Sl as default};
