import{e as ne,d as se}from"./QItem.90cb3f8e.js";import{Q as ie}from"./QImg.06109eef.js";import{Q as re}from"./QSelect.9d2cfa13.js";import{Q as ue}from"./QSpace.cadcc70b.js";import{Q as ce,a as x}from"./QPage.b6d1d42a.js";import{Q as C}from"./QBadge.584f6cec.js";import{r as l,o as de,P as c,S as f,T as n,aK as G,W as i,V as s,Z as p,U as $,aJ as R,a3 as Q,_ as V,Y as y,a2 as me,a5 as E,a4 as F,aH as ve,aI as fe}from"./index.2cc7ceee.js";import{Q as U,a as L}from"./QFab.3da5d0f5.js";import{a as ge,u as pe,t as X,Q as ee}from"./tooltip.5f2045bf.js";import{Q as N}from"./QInput.dedf053c.js";import"./use-prevent-scroll.2eaefdac.js";import"./use-quasar.00434082.js";const he={class:"column items-center q-gutter-y-md"},xe={key:0,class:"column items-center"},_e={class:"q-gutter-y-md full-width",style:{"max-width":"300px"}},ye={class:"row items-center"},be=i("span",{class:"full-width row justify-center text-bold"},"\uB098\uBB34\uC5F4\uB9E4",-1),we={class:"row items-center full-width"},ke=i("span",{class:"full-width row justify-center text-bold"},"\uC2DD\uC7AC\uB8CC",-1),Ie={class:"row"},Ce={class:"relative-position"},Qe={class:"q-mx-md relative-position"},Ve={class:"relative-position"},Ne=i("span",{class:"full-width row justify-center text-bold"}," \uAE30\uBCF8 \uC18C\uC9C0 \uC218",-1),Se=i("span",{class:"full-width row justify-center text-bold"}," \uAE30\uBCF8 \uB3C4\uC6B0\uBBF8 \uC18D\uB3C4",-1),Pe=i("span",{class:"full-width row justify-center text-bold"}," \uC2DD\uC7AC\uB8CC \uD655\uB960",-1),De=i("span",{class:"full-width row justify-center text-bold"}," \uC2A4\uD0AC \uBC1C\uB3D9 \uD655\uB960",-1),Ke=Object.assign({name:"ChoosePkmComponent"},{__name:"SleepDexPage",setup(Be){const r=ge(),g=pe(),A=l(r.korPkmName),_=l(!1),u=l(""),H=l(""),b=l(""),w=l(""),k=l(""),K=l(""),O=l(""),J=l(""),S=l(""),P=l(""),D=l(""),W=l(b.value),Y=l(w.value),Z=l(k.value),m=l([]),I=l(1),B=l(),te=l("\uC785\uB825\uD558\uACE0 \uC5D4\uD130\uB97C \uB20C\uB7EC\uC11C \uAC80\uC0C9"),M=l(1),d=l([0,0,0]),j=l(0),h=l(""),q=l(0),z=l(0);function T(o,t){const a=r.bringIng(u.value,t),e=g.fetchIcon("ing",a);o===1?(b.value=e,K.value=a):o===2?(w.value=e,O.value=a):o===3&&(k.value=e,J.value=a),m.value[o-1].forEach(v=>{v.name===a&&(d.value[o-1]=v.amount)})}async function le(){fe("\uBD88\uB7EC\uC624\uB294 \uC911..."),await r.fetchPkmData(u.value);const o=r.searchPkmData("kor_name",u.value);H.value=g.fetchIcon("berry",o.berries.name),W.value=g.fetchIcon("ing",r.bringIng(u.value,1)),Y.value=g.fetchIcon("ing",r.bringIng(u.value,2)),Z.value=g.fetchIcon("ing",r.bringIng(u.value,3)),b.value=W.value,w.value=Y.value,k.value=Z.value,S.value=r.bringIng(u.value,1),P.value=r.bringIng(u.value,2),D.value=r.bringIng(u.value,3),K.value=S.value,O.value=P.value,J.value=D.value,j.value=o.carry_size+o.previous_evolutions*5,h.value="";let t=o.frequency;Math.floor(t/Math.pow(60,2))>0&&(h.value+=`${Math.floor(t/Math.pow(60,2))}\uC2DC\uAC04`,t=t%Math.pow(60,2)),Math.floor(t/60)>0&&(h.value+=` ${Math.floor(t/60)}\uBD84`,t=t%60),h.value+=` ${t}\uCD08`,q.value=o.ingredient_percentage+" %",z.value=o.skill_percentage+" %",m.value=[],M.value=o.specialty==="berry"||o.specialty==="all"?2:1,m.value.push(o.ingredient0),m.value.push(o.ingredient30),m.value.push(o.ingredient60);for(let e=0;e<3;e++)m.value[e].forEach(v=>{v.url=g.fetchIcon("ing",v.name)});o.ingredient0.forEach(e=>{e.name===S.value&&(d.value[0]=e.amount)}),o.ingredient30.forEach(e=>{e.name===P.value&&(d.value[1]=e.amount)}),o.ingredient60.forEach(e=>{e.name===D.value&&(d.value[2]=e.amount)});const a=I.value;I.value=r.findDexNum(u.value),a===I.value&&R(),B.value=g.fetchImage("pkm",I.value),_.value=!0}function oe(o,t,a){t(()=>{A.value=r.korPkmName.filter(e=>e.indexOf(o)>-1)})}function ae(o){o.length>0&&(u.value="")}return de(()=>{r.loadKorPkmName(),B.value="images/pikachuStanding.png"}),(o,t)=>(c(),f(ce,{class:G(_.value?"row justify-center bg-googleDark":"flex flex-center bg-googleDark")},{default:n(()=>[i("div",{class:"col-xs-12 col-sm-9 col-md-8 col-lg-6 col-xl-6 bg-googleBack q-px-md",style:ve(_.value?"":"border: 2mm solid #b46856")},[s(se,{class:"bg-primary text-white text-center"},{default:n(()=>[s(ne,null,{default:n(()=>[p("\uD3EC\uCF13\uBAAC\uC744 \uAC80\uC0C9\uD558\uC138\uC694")]),_:1})]),_:1}),i("div",he,[s(ie,{alt:"Pokemon image",src:B.value,fit:"scale-down",style:{width:"300px"},"no-spinner":"",onLoad:t[0]||(t[0]=a=>$(R)())},null,8,["src"]),s(re,{class:G(_.value?"full-width q-mt-none":"q-mt-none"),filled:"",color:"secondary",modelValue:u.value,"onUpdate:modelValue":[t[1]||(t[1]=a=>u.value=a),le],options:A.value,label:"\uD3EC\uCF13\uBAAC \uC774\uB984",onFilter:oe,onInputValue:ae,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",hint:te.value,"hide-bottom-space":""},null,8,["class","modelValue","options","hint"]),s(ue)]),_.value?(c(),Q("div",xe,[i("div",_e,[i("div",ye,[s(x,{color:"secondary","text-color":"white",style:{width:"84px"}},{default:n(()=>[be]),_:1}),s(me,{fab:"",color:"ingCircle",icon:H.value},{default:n(()=>[M.value>1?(c(),f(C,{key:0,color:"orange",floating:"",class:"text-bold"},{default:n(()=>[p("* "+V(M.value),1)]),_:1})):y("",!0)]),_:1},8,["icon"])]),i("div",we,[s(x,{color:"secondary","text-color":"white",style:{width:"84px"}},{default:n(()=>[ke]),_:1}),i("div",Ie,[i("div",Ce,[d.value[0]>1?(c(),f(C,{key:0,color:"orange",floating:"",class:"text-bold",style:{"z-index":"1000 !important"}},{default:n(()=>[p("* "+V(d.value[0]),1)]),_:1})):y("",!0),s(U,{color:"ingCircle",icon:b.value,direction:"up"},{default:n(()=>[(c(!0),Q(E,null,F(m.value[0],(a,e)=>(c(),f(L,{key:e,color:"ingCircle",onClick:v=>T(1,e+1),icon:a.url},null,8,["onClick","icon"]))),128))]),_:1},8,["icon"])]),i("div",Qe,[d.value[1]>1?(c(),f(C,{key:0,color:"orange",floating:"",class:"text-bold",style:{"z-index":"1000 !important"}},{default:n(()=>[p("* "+V(d.value[1]),1)]),_:1})):y("",!0),s(ee,{"hide-delay":$(X)()},{default:n(()=>[p(" \uB808\uBCA8 30 ")]),_:1},8,["hide-delay"]),s(U,{color:"ingCircle",icon:w.value,direction:"up"},{default:n(()=>[(c(!0),Q(E,null,F(m.value[1],(a,e)=>(c(),f(L,{key:e,color:"ingCircle",onClick:v=>T(2,e+1),icon:a.url},null,8,["onClick","icon"]))),128))]),_:1},8,["icon"])]),i("div",Ve,[d.value[2]>1?(c(),f(C,{key:0,color:"orange",floating:"",class:"text-bold",style:{"z-index":"1000 !important"}},{default:n(()=>[p("* "+V(d.value[2]),1)]),_:1})):y("",!0),s(ee,{"hide-delay":$(X)()},{default:n(()=>[p(" \uB808\uBCA8 60 ")]),_:1},8,["hide-delay"]),s(U,{color:"ingCircle",icon:k.value,direction:"up"},{default:n(()=>[(c(!0),Q(E,null,F(m.value[2],(a,e)=>(c(),f(L,{key:e,color:"ingCircle",onClick:v=>T(3,e+1),icon:a.url},null,8,["onClick","icon"]))),128))]),_:1},8,["icon"])])])]),s(N,{modelValue:j.value,"onUpdate:modelValue":t[2]||(t[2]=a=>j.value=a),class:"full-width",readonly:"","input-class":"text-center text-bold text-subtitle1"},{before:n(()=>[s(x,{color:"primary","text-color":"white"},{default:n(()=>[Ne]),_:1})]),_:1},8,["modelValue"]),s(N,{modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=a=>h.value=a),readonly:"","input-class":"text-center text-bold text-subtitle1"},{before:n(()=>[s(x,{color:"primary","text-color":"white"},{default:n(()=>[Se]),_:1})]),_:1},8,["modelValue"]),s(N,{modelValue:q.value,"onUpdate:modelValue":t[4]||(t[4]=a=>q.value=a),readonly:"","input-class":"text-center text-bold text-subtitle1"},{before:n(()=>[s(x,{color:"primary","text-color":"white"},{default:n(()=>[Pe]),_:1})]),_:1},8,["modelValue"]),s(N,{modelValue:z.value,"onUpdate:modelValue":t[5]||(t[5]=a=>z.value=a),readonly:"",class:"q-pb-md","input-class":"text-center text-bold text-subtitle1"},{before:n(()=>[s(x,{color:"primary","text-color":"white"},{default:n(()=>[De]),_:1})]),_:1},8,["modelValue"])])])):y("",!0)],4)]),_:1},8,["class"]))}});export{Ke as default};
