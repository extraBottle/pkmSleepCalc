import{u as Ve,d as Ge,c as Ke,Q as Ye,a as xe,b as We}from"./inputStore.18c9d4fd.js";import{r as m,j as $,a as Je,aU as Ce,P as w,a3 as de,V as e,T as o,W as i,a5 as Qe,Z as N,Q as Pe,aK as De,U as j,_ as J,a2 as X,X as pe,Y as Z,k as Xe,a1 as Ze,S as be,aV as Ne,an as He,o as et,aR as tt,b as at,aI as lt,aJ as ot}from"./index.0bb5b268.js";import{b as st,Q as nt}from"./QPage.5db04932.js";import{d as Be,e as Oe}from"./QItem.ad0d77a9.js";import{Q as rt}from"./QImg.76e00dd3.js";import{a as ct,u as it,Q as Me,t as Re}from"./tooltip.86f46ac9.js";import{Q as ut}from"./QSelect.55c34f6c.js";import{Q as U,b as D,a as mt,C as dt}from"./ClosePopup.5f6e2396.js";import{Q as me}from"./QSeparator.028b7edb.js";import{Q as pt}from"./QSpace.fc352d3f.js";import{u as we}from"./finalCalcStore.f848f115.js";import{u as gt}from"./use-quasar.95520eb3.js";import"./use-prevent-scroll.0d5ecc17.js";import"./touch.3df10340.js";const ht={class:"column items-center q-gutter-y-md relative-position"},vt={class:"full-width row justify-between"},kt={class:"text-h5 text-center text-weight-bold clean-wrap"},ft=i("span",{class:"text-subtitle2"},"(\uAE30\uB313\uAC12)",-1),bt={class:"col"},St={class:"text-h5 q-py-sm"},_t={key:0,class:"col"},yt={class:"text-h5 q-py-sm"},It={key:1,class:"col"},Et={class:"text-h5 q-py-sm"},Ct={key:2,class:"col"},wt={class:"row q-py-sm"},Lt={class:"text-h5 no-wrap"},xt=i("div",{class:"text-subtitle1 no-wrap"},"(\uB098\uBA38\uC9C0 \uBAA8\uB4E0 \uC2DD\uC7AC\uB8CC)",-1),Pt=i("div",null,"\uB3C4\uC6C0\uB9D0",-1),Dt=i("span",{class:"text-bold"},' "\uC218\uBA74 + \uD65C\uB3D9\uC2DC\uAC04"',-1),Nt=Object.assign({name:"IngResult"},{__name:"ResultProdComponent",props:{startLoad:{type:Boolean}},setup(ge){const z=ge,a=ct(),h=it(),s=Ve(),L=Ge(),r=Ke(),t=we(),v=m(!1),l=m(h.fetchImage("pkm",s.selectedPkmDex)),n=m(s.pkmName),c=s.pkmLevel,S=s.upNature,_=s.downNature,d=a.upMult[S],p=a.downMult[_],ee=s.hbCount,he=a.hbMult,y=s.subSkills,u=a.searchPkmData("name",a.convertKorEn(n.value)),H=a.maxHS,G=s.firstIng,k=s.secondIng,f=s.thirdIng,M=s.mainSkillLevel,te=a.mealRecovery,ae=s.hasErb,le=a.erbMaxEnergy,Se=s.useRibbon?a.ribbonList[parseInt(s.ribbonLev,10)-1].speed[s.leftEvo]:0,R=s.useRibbon?a.ribbonList[parseInt(s.ribbonLev,10)-1].inventory:0,oe=a.maxE,V=a.totalMainSkill,Q=r.mainSkillLevel,K=L.sleepTime,b=r.calcVer,se=r.healSkillCount,ne=a.timeForFull,B=r.upNature,O=r.downNature,_e=r.pkmName,re=r.pkmLevel,T=r.subSkills,x=a.searchPkmData("name",a.convertKorEn(_e)),F=s.erbCount,q=a.erbMult,I=a.enerPerHour,P=a.speedEnerMultList,ye=r.hasErb,ve=r.useRibbon?a.ribbonList[parseInt(r.ribbonLev,10)-1].speed[r.leftEvo]:0,Y=r.useRibbon?a.ribbonList[parseInt(r.ribbonLev,10)-1].inventory:0,ce=u.specialty=="skill"?a.collectSkillCount.skill:a.collectSkillCount.else,ie=["\uD55C\uB07C","1\uC77C"],E=m(ie[0]),Ie=m(h.fetchIcon("ing",G.replace(/\s/g,"").toLowerCase())),ke=m(h.fetchIcon("ing",k.replace(/\s/g,"").toLowerCase())),Ee=m(h.fetchIcon("ing",f.replace(/\s/g,"").toLowerCase())),W=r.secondIng,Le=r.thirdIng,A=m(s.useGoodCamp),Te=$(()=>A.value?"":"hidden"),Fe=m(s.useRibbon),qe=$(()=>Fe.value?"":"invisible"),Ae=$(()=>n.value+"\uC758 "+(E.value==="\uD55C\uB07C"?"\uD55C\uB07C\uB2F9":"\uD558\uB8E8")+" \uC0DD\uC0B0\uB7C9");Je(()=>{s.hasEssential()&&t.onlyBaseSpeed===0&&(t.calcLoading=!0)}),Ce(async()=>{try{if(z.startLoad){let ue={},g={},C={},fe={};u.skill.name.includes("Metronome")&&(await a.fetchPkmData("LEAFEON"),await a.fetchPkmData("UMBREON"),await a.fetchPkmData("VAPOREON"),await a.fetchPkmData("SYLVEON"),ue=a.searchPkmData("name","VAPOREON").skill,g=a.searchPkmData("name","UMBREON").skill,C=a.searchPkmData("name","LEAFEON").skill,fe=a.searchPkmData("name","SYLVEON").skill),t.onlyBaseSpeed=t.calcBaseSpeed(Se,c,S,_,d,p,ee,he,y,u,H,A.value),t.finalSkillProc=t.calcSkillProc(u,S,_,d,p,y),t.finalIngProc=t.calcIngProc(u,S,_,d,p,y),b==="proVer"?(t.onlyBaseSpeedH=t.calcBaseSpeed(ve,re,B,O,d,p,ee,he,T,x,H,A.value),t.finalSkillProcH=t.calcSkillProc(x,B,O,d,p,T),t.finalIngProcH=t.calcIngProc(x,B,O,d,p,T),t.calcEnergyCurve(ae,le,R,Y,fe,g,C,V,c,y,k,f,M,u,te,A.value,oe,Q,K,b,se,ne,S,_,d,p,F,q,I,P,x,T,re,W,Le,B,O,ye)):t.calcEnergyCurve(ae,le,R,Y,fe,g,C,V,c,y,k,f,M,u,te,A.value,oe,Q,K,b,se,ne,S,_,d,p,F,q,I,P,x),t.calcSpeedWithEner(P,b,I,ce),b!=="proVer"&&(u.skill.name.includes("Charge Energy")||u.skill.name.includes("Energizing Cheer")||u.skill.name.includes("Energy For Everyone")||u.skill.name.includes("Metronome"))&&(t.calcEnergyCurve(ae,le,R,Y,fe,g,C,V,c,y,k,f,M,u,te,A.value,oe,Q,K,b,se,ne,S,_,d,p,F,q,I,P,x,T,re,W,Le,B,O),t.calcSpeedWithEner(P,b,I,ce)),t.calcLeveLIng(b,R,ue,V,!1,u,c,G,k,f,K,I,P,y,A.value,M),t.calcLoading=!1}}catch(ue){console.log("ing production calc err",ue)}});const $e=$(()=>E.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[G]/3):Math.round(t.totalIngCalc[G])),Ue=$(()=>E.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[k]/3):Math.round(t.totalIngCalc[k])),je=$(()=>E.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[f]/3):Math.round(t.totalIngCalc[f])),ze=$(()=>E.value==="\uD55C\uB07C"?(t.totalIngCalc.all/3).toFixed(2):t.totalIngCalc.all.toFixed(2));return(ue,g)=>(w(),de(Qe,null,[e(Be,{class:"bg-primary text-white text-center"},{default:o(()=>[e(Oe,null,{default:o(()=>[N("\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C")]),_:1})]),_:1}),i("div",ht,[e(rt,{alt:"Pokemon image",src:l.value,fit:"scale-down",style:{"max-width":"300px"},"no-spinner":""},null,8,["src"]),e(U,{bordered:"",class:"full-width bg-googleBack"},{default:o(()=>[e(D,null,{default:o(()=>[i("div",vt,[i("div",null,[e(Pe,{class:De(Te.value),size:"xl",name:"img:images/goodcampticket.png"},{default:o(()=>[e(Me,{"hide-delay":j(Re)()},{default:o(()=>[N(" \uC88B\uC740 \uCEA0\uD504 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"]),e(Pe,{class:De(qe.value),size:"xl",name:"img:images/ribbon.png"},{default:o(()=>[e(Me,{"hide-delay":j(Re)()},{default:o(()=>[N(" \uAD7F\uB098\uC787\uB9AC\uBCF8 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"])]),e(ut,{outlined:"",dense:"",modelValue:E.value,"onUpdate:modelValue":g[0]||(g[0]=C=>E.value=C),options:ie},null,8,["modelValue"])]),i("div",kt,[N(J(Ae.value)+" ",1),ft,e(X,{color:"grey-5",icon:"help",round:"",flat:"",dense:"",onClick:g[1]||(g[1]=C=>v.value=!0)})])]),_:1}),e(me,{inset:""}),e(D,{class:"column q-gutter-y-md"},{default:o(()=>[i("div",bt,[e(U,null,{default:o(()=>[e(D,{class:"row bg-sSkill"},{default:o(()=>[e(pe,{class:"shadow-1",color:"ingCircle",icon:Ie.value},null,8,["icon"]),e(me,{vertical:"",class:"q-mx-md"}),i("div",St,J($e.value)+" \uAC1C",1)]),_:1})]),_:1})]),j(t).checkSecondDisplay?(w(),de("div",_t,[e(U,null,{default:o(()=>[e(D,{class:"row bg-sSkill"},{default:o(()=>[e(pe,{class:"shadow-1",color:"ingCircle",icon:ke.value},null,8,["icon"]),e(me,{vertical:"",class:"q-mx-md"}),i("span",yt,J(Ue.value)+" \uAC1C",1)]),_:1})]),_:1})])):Z("",!0),j(t).checkThirdDisplay?(w(),de("div",It,[e(U,null,{default:o(()=>[e(D,{class:"row bg-sSkill"},{default:o(()=>[e(pe,{class:"shadow-1",color:"ingCircle",icon:Ee.value},null,8,["icon"]),e(me,{vertical:"",class:"q-mx-md"}),i("span",Et,J(je.value)+" \uAC1C",1)]),_:1})]),_:1})])):Z("",!0),j(t).checkIngSkillDisplay?(w(),de("div",Ct,[e(U,null,{default:o(()=>[e(D,{class:"row bg-sSkill no-wrap"},{default:o(()=>[e(pe,{class:"shadow-1",color:"ingCircle",icon:"img:images/ingall.png"}),e(me,{vertical:"",class:"q-mx-md"}),i("div",wt,[i("div",Lt,J(ze.value)+" \uAC1C\xA0",1),xt])]),_:1})]),_:1})])):Z("",!0)]),_:1})]),_:1})]),e(st,{modelValue:v.value,"onUpdate:modelValue":g[2]||(g[2]=C=>v.value=C)},{default:o(()=>[e(U,null,{default:o(()=>[e(mt,null,{default:o(()=>[Pt,e(pt),Xe(e(X,{dense:"",flat:"",icon:"close"},null,512),[[dt]])]),_:1}),e(D,null,{default:o(()=>[Dt,N("(\uCD1D 24h)\uC744 \uC804\uBD80 \uBC18\uC601\uD558\uC5EC \uACC4\uC0B0\uD55C \uACB0\uACFC\uC785\uB2C8\uB2E4 ")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Ht={class:"column items-center q-gutter-y-md relative-position"},Mt={class:"row"},Rt=i("div",{class:"q-mx-sm"},null,-1),Vt={class:"text-caption q-py-sm"},Qt=i("br",null,null,-1),Bt=Object.assign({name:"EnerResult"},{__name:"ResultEnergyComponent",props:{startLoad:{type:Boolean}},setup(ge){const z=ge,a=we(),h=m();function s(){h.value.updateSeries([]),a.calcLoading=!0}Ce(async()=>{try{if(z.startLoad){const t=await Ne(()=>import("./tooltip.86f46ac9.js").then(function(W){return W.p}),["assets/tooltip.86f46ac9.js","assets/index.0bb5b268.js","assets/index.f2109568.css","assets/QSelect.55c34f6c.js","assets/use-prevent-scroll.0d5ecc17.js","assets/QItem.ad0d77a9.js","assets/QPage.5db04932.js","assets/use-quasar.95520eb3.js"]),v=await Ne(()=>import("./inputStore.18c9d4fd.js").then(function(W){return W.i}),["assets/inputStore.18c9d4fd.js","assets/index.0bb5b268.js","assets/index.f2109568.css","assets/use-prevent-scroll.0d5ecc17.js","assets/touch.3df10340.js","assets/QItem.ad0d77a9.js"]),l=t.usePkmDBStore(),n=v.useInputStore(),c=v.useHealerInputStore(),S=v.useSleepTimeInputStore(),_=m(n.pkmName),d=n.pkmLevel,p=n.upNature,ee=n.downNature,he=l.upMult[p],y=l.downMult[ee],u=n.subSkills,H=l.searchPkmData("name",l.convertKorEn(_.value)),G=n.firstIng,k=n.secondIng,f=n.thirdIng,M=n.mainSkillLevel,te=l.mealRecovery,ae=n.hasErb,le=l.erbMaxEnergy,Se=l.maxE,R=l.totalMainSkill,oe=c.mainSkillLevel,V=S.sleepTime,Q=c.calcVer,K=c.healSkillCount,b=l.timeForFull,se=c.upNature,ne=c.downNature,B=c.pkmName,O=c.pkmLevel,_e=c.subSkills,re=l.searchPkmData("name",l.convertKorEn(B)),T=n.erbCount,x=l.erbMult,F=l.enerPerHour,q=l.speedEnerMultList,I=n.useRibbon?l.ribbonList[parseInt(n.ribbonLev,10)-1].inventory:0,P=c.useRibbon?l.ribbonList[parseInt(c.ribbonLev,10)-1].inventory:0,ye=c.hasErb;let ve={},Y={},ce={},ie={};H.skill.name.includes("Metronome")&&(await l.fetchPkmData("LEAFEON"),await l.fetchPkmData("UMBREON"),await l.fetchPkmData("VAPOREON"),await l.fetchPkmData("SYLVEON"),ve=l.searchPkmData("name","VAPOREON").skill,Y=l.searchPkmData("name","UMBREON").skill,ce=l.searchPkmData("name","LEAFEON").skill,ie=l.searchPkmData("name","SYLVEON").skill);const E=c.secondIng,Ie=c.thirdIng,ke=m(n.useGoodCamp),Ee=H.specialty=="skill"?l.collectSkillCount.skill:l.collectSkillCount.else;a.calcEnergyCurve(ae,le,I,P,ie,Y,ce,R,d,u,k,f,M,H,te,ke.value,Se,oe,V,Q,K,b,p,ee,he,y,T,x,F,q,re,_e,O,E,Ie,se,ne,ye),a.calcSpeedWithEner(q,Q,F,Ee),a.calcLeveLIng(Q,I,ve,R,!1,H,d,G,k,f,V,F,q,u,ke.value,M),h.value.updateSeries([{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:a.energyAxis}]),a.calcLoading=!1}}catch(t){console.log("energy calc err",t)}});const L={chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},noData:{text:"\uAE30\uB825 \uACC4\uC0B0 \uC911..."},stroke:{curve:"straight"},xaxis:{title:{text:"\uC2DC\uAC04 \uACBD\uACFC (h)"},type:"numeric",labels:{formatter:function(t){return(t/2).toFixed(1)}}},yaxis:{title:{text:"\uB0A8\uC740 \uAE30\uB825\uB7C9 (%)"},labels:{formatter:function(t){return Math.floor(t)}},min:0,max:150},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#FDD835"],opacityFrom:1,opacityTo:.01,stops:[0,100,100,100]}}},r=[{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:a.energyAxis}];return(t,v)=>{const l=Ze("apexchart");return w(),de(Qe,null,[e(Be,{class:"bg-primary text-white text-center"},{default:o(()=>[e(Oe,null,{default:o(()=>[N("\uAE30\uB825 \uBCC0\uD654 \uADF8\uB798\uD504")]),_:1})]),_:1}),i("div",Ht,[e(l,{ref_key:"energyChartRef",ref:h,class:"apexchart_width",type:"area",options:L,series:r},null,512),j(a).finalSkillProcH>0?(w(),be(U,{key:0},{default:o(()=>[e(D,{class:"bg-sSkill"},{default:o(()=>[i("div",Mt,[e(pe,{size:"md",class:"shadow-1",color:"secondary","text-color":"white",icon:"priority_high"}),Rt,i("span",Vt,[N("\uC704 \uADF8\uB798\uD504\uB294 "+J(j(a).simulationCount)+"\uD68C \uBAA8\uC758\uC2DC\uD589\uC758 \uAE30\uB313\uAC12\uC785\uB2C8\uB2E4.",1),Qt,N("\uB9E4 \uC2DC\uD589\uB9C8\uB2E4 \uACB0\uACFC\uAC00 \uB2EC\uB77C\uC9C8 \uC218 \uC788\uC2B5\uB2C8\uB2E4.")])]),e(X,{class:"full-width",rounded:"",label:"\uAE30\uB825 \uB2E4\uC2DC \uACC4\uC0B0\uD558\uAE30",icon:"restart_alt",color:"positive",onClick:s})]),_:1})]),_:1})):Z("",!0)])],64)}}}),Xt=Object.assign({name:"ResultPage"},{__name:"ResultPage",setup(ge){const z=Ve(),a=we(),h=He(),s=gt(),L=m(!1);et(()=>{z.hasEssential()||(He().push("/prodcalc"),tt("\uD3EC\uCF13\uBAAC \uC815\uBCF4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694"))}),at(()=>{a.clearCalc()}),Ce(()=>{if(z.hasEssential())if(a.calcLoading){lt("\uACC4\uC0B0 \uC911...");const l=s.platform.is.mobile?100:30;setTimeout(()=>{L.value=!0},l)}else L.value=!1,ot()});const r=m(1),t=m();function v(){a.clearCalc(),h.push("/prodcalc")}return(l,n)=>(w(),be(nt,{class:"row justify-center bg-googleDark relative-position"},{default:o(()=>[e(We,{modelValue:r.value,"onUpdate:modelValue":n[2]||(n[2]=c=>r.value=c),ref_key:"stepper",ref:t,contracted:"",color:"primary","active-icon":"none",class:"col-xs-12 col-sm-9 col-md-8 col-lg-6 col-xl-6 bg-googleBack",animated:""},{navigation:o(()=>[e(Ye,{class:"row justify-between"},{default:o(()=>[e(X,{push:"",icon:"refresh",color:"primary",onClick:v,label:"\uB2E4\uC2DC\uD558\uAE30","text-color":"white"}),i("div",null,[r.value>1?(w(),be(X,{key:0,flat:"",color:"primary",onClick:n[0]||(n[0]=c=>t.value.previous()),label:"\uB4A4\uB85C",class:"q-ml-sm"})):Z("",!0),r.value<2?(w(),be(X,{key:1,onClick:n[1]||(n[1]=c=>t.value.next()),color:"primary",label:"\uB2E4\uC74C"})):Z("",!0)])]),_:1})]),default:o(()=>[e(xe,{name:1,title:"\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C",icon:"assignment"},{default:o(()=>[e(Nt,{"start-load":L.value},null,8,["start-load"])]),_:1}),e(xe,{name:2,title:"\uAE30\uB825 \uADF8\uB798\uD504",icon:"favorite"},{default:o(()=>[e(Bt,{"start-load":L.value},null,8,["start-load"])]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{Xt as default};
