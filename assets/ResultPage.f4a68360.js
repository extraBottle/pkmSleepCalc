import{u as Re,d as ze,c as Ge,Q as Ke,a as xe,b as Ye}from"./inputStore.bb811ff9.js";import{r as m,j as U,a as We,aU as Ce,P as L,a3 as me,V as e,T as o,W as i,a5 as Ve,Z as N,Q as Pe,aK as Ee,U as z,_ as X,a2 as Z,X as de,Y as ee,k as Je,a1 as Xe,S as be,aV as De,an as Ne,o as Ze,aR as et,b as tt,aI as at,aJ as lt}from"./index.a5b6fa52.js";import{b as ot,Q as nt}from"./QPage.92d945bb.js";import{d as Qe,e as Be}from"./QItem.2e81f79f.js";import{Q as st}from"./QImg.b649849d.js";import{a as ct,u as rt,Q as He,t as Me}from"./tooltip.a1c86c7e.js";import{Q as it}from"./QSelect.41f001a2.js";import{Q as j,b as D,a as ut,C as mt}from"./ClosePopup.c3a65312.js";import{Q as ue}from"./QSeparator.8a2dbdc9.js";import{Q as dt}from"./QSpace.8678c425.js";import{u as we}from"./finalCalcStore.cd62a50d.js";import{u as pt}from"./use-quasar.1e372177.js";import"./use-prevent-scroll.70785d9d.js";import"./touch.3df10340.js";const vt={class:"column items-center q-gutter-y-md relative-position"},gt={class:"full-width row justify-between"},kt={class:"text-h5 text-center text-weight-bold clean-wrap"},ft=i("span",{class:"text-subtitle2"},"(\uAE30\uB313\uAC12)",-1),ht={class:"col"},bt={class:"text-h5 q-py-sm"},St={key:0,class:"col"},_t={class:"text-h5 q-py-sm"},yt={key:1,class:"col"},It={class:"text-h5 q-py-sm"},Ct={key:2,class:"col"},wt={class:"row q-py-sm"},Lt={class:"text-h5 no-wrap"},xt=i("div",{class:"text-subtitle1 no-wrap"},"(\uB098\uBA38\uC9C0 \uBAA8\uB4E0 \uC2DD\uC7AC\uB8CC)",-1),Pt=i("div",null,"\uB3C4\uC6C0\uB9D0",-1),Et=i("span",{class:"text-bold"},' "\uC218\uBA74 + \uD65C\uB3D9\uC2DC\uAC04"',-1),Dt=Object.assign({name:"IngResult"},{__name:"ResultProdComponent",props:{startLoad:{type:Boolean}},setup(pe){const G=pe,a=ct(),g=rt(),n=Re(),x=ze(),c=Ge(),t=we(),k=m(!1),l=m(g.fetchImage("pkm",n.selectedPkmDex)),s=m(n.pkmName),r=n.pkmLevel,S=n.upNature,_=n.downNature,d=a.upMult[S],p=a.downMult[_],te=n.hbCount,ve=a.hbMult,y=n.subSkills,u=a.searchPkmData("name",a.convertKorEn(s.value)),H=a.maxHS,M=n.evoCount,K=n.firstIng,f=n.secondIng,h=n.thirdIng,R=n.mainSkillLevel,ae=a.mealRecovery,Se=n.useRibbon?a.ribbonList[parseInt(n.ribbonLev,10)-1].speed[n.leftEvo]:0,V=n.useRibbon?a.ribbonList[parseInt(n.ribbonLev,10)-1].inventory:0,le=a.maxE,Q=a.totalMainSkill,B=c.mainSkillLevel,Y=x.sleepTime,b=c.calcVer,oe=c.healSkillCount,ne=a.timeForFull,O=c.upNature,T=c.downNature,_e=c.pkmName,se=c.pkmLevel,F=c.subSkills,P=a.searchPkmData("name",a.convertKorEn(_e)),q=n.erbCount,A=a.erbMult,E=a.enerPerHour,I=a.speedEnerMultList,ge=c.evoCount,ke=c.useRibbon?a.ribbonList[parseInt(c.ribbonLev,10)-1].speed[c.leftEvo]:0,W=c.useRibbon?a.ribbonList[parseInt(c.ribbonLev,10)-1].inventory:0,ce=u.specialty=="skill"?a.collectSkillCount.skill:a.collectSkillCount.else,re=["\uD55C\uB07C","1\uC77C"],C=m(re[0]),ye=m(g.fetchIcon("ing",K.replace(/\s/g,"").toLowerCase())),fe=m(g.fetchIcon("ing",f.replace(/\s/g,"").toLowerCase())),Ie=m(g.fetchIcon("ing",h.replace(/\s/g,"").toLowerCase())),J=c.secondIng,Le=c.thirdIng,$=m(n.useGoodCamp),Oe=U(()=>$.value?"":"hidden"),Te=m(n.useRibbon),Fe=U(()=>Te.value?"":"invisible"),qe=U(()=>s.value+"\uC758 "+(C.value==="\uD55C\uB07C"?"\uD55C\uB07C\uB2F9":"\uD558\uB8E8")+" \uC0DD\uC0B0\uB7C9");We(()=>{n.hasEssential()&&t.onlyBaseSpeed===0&&(t.calcLoading=!0)}),Ce(async()=>{try{if(G.startLoad){let ie={},v={},w={},he={};u.skill.name.includes("Metronome")&&(await a.fetchPkmData("LEAFEON"),await a.fetchPkmData("UMBREON"),await a.fetchPkmData("VAPOREON"),await a.fetchPkmData("SYLVEON"),ie=a.searchPkmData("name","VAPOREON").skill,v=a.searchPkmData("name","UMBREON").skill,w=a.searchPkmData("name","LEAFEON").skill,he=a.searchPkmData("name","SYLVEON").skill),t.onlyBaseSpeed=t.calcBaseSpeed(Se,r,S,_,d,p,te,ve,y,u,H,$.value),t.finalSkillProc=t.calcSkillProc(u,S,_,d,p,y),t.finalIngProc=t.calcIngProc(u,S,_,d,p,y),b==="proVer"?(t.onlyBaseSpeedH=t.calcBaseSpeed(ke,se,O,T,d,p,te,ve,F,P,H,$.value),t.finalSkillProcH=t.calcSkillProc(P,O,T,d,p,F),t.finalIngProcH=t.calcIngProc(P,O,T,d,p,F),t.calcEnergyCurve(V,W,he,v,w,Q,r,M,y,f,h,R,u,ae,$.value,le,B,Y,b,oe,ne,S,_,d,p,q,A,E,I,P,ge,F,se,J,Le,O,T)):t.calcEnergyCurve(V,W,he,v,w,Q,r,M,y,f,h,R,u,ae,$.value,le,B,Y,b,oe,ne,S,_,d,p,q,A,E,I,P),t.calcSpeedWithEner(I,b,E,ce),b!=="proVer"&&(u.skill.name.includes("Charge Energy")||u.skill.name.includes("Energizing Cheer")||u.skill.name.includes("Energy For Everyone")||u.skill.name.includes("Metronome"))&&(t.calcEnergyCurve(V,W,he,v,w,Q,r,M,y,f,h,R,u,ae,$.value,le,B,Y,b,oe,ne,S,_,d,p,q,A,E,I,P,ge,F,se,J,Le,O,T),t.calcSpeedWithEner(I,b,E,ce)),t.calcLeveLIng(b,V,ie,Q,!1,u,r,K,f,h,Y,E,I,M,y,$.value,R),t.calcLoading=!1}}catch(ie){console.log("ing production calc err",ie)}});const Ae=U(()=>C.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[K]/3):Math.round(t.totalIngCalc[K])),$e=U(()=>C.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[f]/3):Math.round(t.totalIngCalc[f])),Ue=U(()=>C.value==="\uD55C\uB07C"?Math.round(t.totalIngCalc[h]/3):Math.round(t.totalIngCalc[h])),je=U(()=>C.value==="\uD55C\uB07C"?(t.totalIngCalc.all/3).toFixed(2):t.totalIngCalc.all.toFixed(2));return(ie,v)=>(L(),me(Ve,null,[e(Qe,{class:"bg-primary text-white text-center"},{default:o(()=>[e(Be,null,{default:o(()=>[N("\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C")]),_:1})]),_:1}),i("div",vt,[e(st,{alt:"Pokemon image",src:l.value,fit:"scale-down",style:{"max-width":"300px"},"no-spinner":""},null,8,["src"]),e(j,{bordered:"",class:"full-width bg-googleBack"},{default:o(()=>[e(D,null,{default:o(()=>[i("div",gt,[i("div",null,[e(Pe,{class:Ee(Oe.value),size:"xl",name:"img:images/goodcampticket.png"},{default:o(()=>[e(He,{"hide-delay":z(Me)()},{default:o(()=>[N(" \uC88B\uC740 \uCEA0\uD504 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"]),e(Pe,{class:Ee(Fe.value),size:"xl",name:"img:images/ribbon.png"},{default:o(()=>[e(He,{"hide-delay":z(Me)()},{default:o(()=>[N(" \uAD7F\uB098\uC787\uB9AC\uBCF8 \uC801\uC6A9 \uC911! ")]),_:1},8,["hide-delay"])]),_:1},8,["class"])]),e(it,{outlined:"",dense:"",modelValue:C.value,"onUpdate:modelValue":v[0]||(v[0]=w=>C.value=w),options:re},null,8,["modelValue"])]),i("div",kt,[N(X(qe.value)+" ",1),ft,e(Z,{color:"grey-5",icon:"help",round:"",flat:"",dense:"",onClick:v[1]||(v[1]=w=>k.value=!0)})])]),_:1}),e(ue,{inset:""}),e(D,{class:"column q-gutter-y-md"},{default:o(()=>[i("div",ht,[e(j,null,{default:o(()=>[e(D,{class:"row bg-sSkill"},{default:o(()=>[e(de,{class:"shadow-1",color:"ingCircle",icon:ye.value},null,8,["icon"]),e(ue,{vertical:"",class:"q-mx-md"}),i("div",bt,X(Ae.value)+" \uAC1C",1)]),_:1})]),_:1})]),z(t).checkSecondDisplay?(L(),me("div",St,[e(j,null,{default:o(()=>[e(D,{class:"row bg-sSkill"},{default:o(()=>[e(de,{class:"shadow-1",color:"ingCircle",icon:fe.value},null,8,["icon"]),e(ue,{vertical:"",class:"q-mx-md"}),i("span",_t,X($e.value)+" \uAC1C",1)]),_:1})]),_:1})])):ee("",!0),z(t).checkThirdDisplay?(L(),me("div",yt,[e(j,null,{default:o(()=>[e(D,{class:"row bg-sSkill"},{default:o(()=>[e(de,{class:"shadow-1",color:"ingCircle",icon:Ie.value},null,8,["icon"]),e(ue,{vertical:"",class:"q-mx-md"}),i("span",It,X(Ue.value)+" \uAC1C",1)]),_:1})]),_:1})])):ee("",!0),z(t).checkIngSkillDisplay?(L(),me("div",Ct,[e(j,null,{default:o(()=>[e(D,{class:"row bg-sSkill no-wrap"},{default:o(()=>[e(de,{class:"shadow-1",color:"ingCircle",icon:"img:images/ingall.png"}),e(ue,{vertical:"",class:"q-mx-md"}),i("div",wt,[i("div",Lt,X(je.value)+" \uAC1C\xA0",1),xt])]),_:1})]),_:1})])):ee("",!0)]),_:1})]),_:1})]),e(ot,{modelValue:k.value,"onUpdate:modelValue":v[2]||(v[2]=w=>k.value=w)},{default:o(()=>[e(j,null,{default:o(()=>[e(ut,null,{default:o(()=>[Pt,e(dt),Je(e(Z,{dense:"",flat:"",icon:"close"},null,512),[[mt]])]),_:1}),e(D,null,{default:o(()=>[Et,N("(\uCD1D 24h)\uC744 \uC804\uBD80 \uBC18\uC601\uD558\uC5EC \uACC4\uC0B0\uD55C \uACB0\uACFC\uC785\uB2C8\uB2E4 ")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Nt={class:"column items-center q-gutter-y-md relative-position"},Ht={class:"row"},Mt=i("div",{class:"q-mx-sm"},null,-1),Rt={class:"text-caption q-py-sm"},Vt=i("br",null,null,-1),Qt=Object.assign({name:"EnerResult"},{__name:"ResultEnergyComponent",props:{startLoad:{type:Boolean}},setup(pe){const G=pe,a=we(),g=m();function n(){g.value.updateSeries([]),a.calcLoading=!0}Ce(async()=>{try{if(G.startLoad){const t=await De(()=>import("./tooltip.a1c86c7e.js").then(function(J){return J.p}),["assets/tooltip.a1c86c7e.js","assets/index.a5b6fa52.js","assets/index.4cd4186e.css","assets/QSelect.41f001a2.js","assets/use-prevent-scroll.70785d9d.js","assets/QItem.2e81f79f.js","assets/QPage.92d945bb.js","assets/use-quasar.1e372177.js"]),k=await De(()=>import("./inputStore.bb811ff9.js").then(function(J){return J.i}),["assets/inputStore.bb811ff9.js","assets/index.a5b6fa52.js","assets/index.4cd4186e.css","assets/use-prevent-scroll.70785d9d.js","assets/touch.3df10340.js","assets/QItem.2e81f79f.js"]),l=t.usePkmDBStore(),s=k.useInputStore(),r=k.useHealerInputStore(),S=k.useSleepTimeInputStore(),_=m(s.pkmName),d=s.pkmLevel,p=s.upNature,te=s.downNature,ve=l.upMult[p],y=l.downMult[te],u=s.subSkills,H=l.searchPkmData("name",l.convertKorEn(_.value)),M=s.evoCount,K=s.firstIng,f=s.secondIng,h=s.thirdIng,R=s.mainSkillLevel,ae=l.mealRecovery,Se=l.maxE,V=l.totalMainSkill,le=r.mainSkillLevel,Q=S.sleepTime,B=r.calcVer,Y=r.healSkillCount,b=l.timeForFull,oe=r.upNature,ne=r.downNature,O=r.pkmName,T=r.pkmLevel,_e=r.subSkills,se=l.searchPkmData("name",l.convertKorEn(O)),F=s.erbCount,P=l.erbMult,q=l.enerPerHour,A=l.speedEnerMultList,E=r.evoCount,I=s.useRibbon?l.ribbonList[parseInt(s.ribbonLev,10)-1].inventory:0,ge=r.useRibbon?l.ribbonList[parseInt(r.ribbonLev,10)-1].inventory:0;let ke={},W={},ce={},re={};H.skill.name.includes("Metronome")&&(await l.fetchPkmData("LEAFEON"),await l.fetchPkmData("UMBREON"),await l.fetchPkmData("VAPOREON"),await l.fetchPkmData("SYLVEON"),ke=l.searchPkmData("name","VAPOREON").skill,W=l.searchPkmData("name","UMBREON").skill,ce=l.searchPkmData("name","LEAFEON").skill,re=l.searchPkmData("name","SYLVEON").skill);const C=r.secondIng,ye=r.thirdIng,fe=m(s.useGoodCamp),Ie=H.specialty=="skill"?l.collectSkillCount.skill:l.collectSkillCount.else;a.calcEnergyCurve(I,ge,re,W,ce,V,d,M,u,f,h,R,H,ae,fe.value,Se,le,Q,B,Y,b,p,te,ve,y,F,P,q,A,se,E,_e,T,C,ye,oe,ne),a.calcSpeedWithEner(A,B,q,Ie),a.calcLeveLIng(B,I,ke,V,!1,H,d,K,f,h,Q,q,A,M,u,fe.value,R),g.value.updateSeries([{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:a.energyAxis}]),a.calcLoading=!1}}catch(t){console.log("energy calc err",t)}});const x={chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},noData:{text:"\uAE30\uB825 \uACC4\uC0B0 \uC911..."},stroke:{curve:"straight"},xaxis:{title:{text:"\uC2DC\uAC04 \uACBD\uACFC (h)"},type:"numeric",labels:{formatter:function(t){return(t/2).toFixed(1)}}},yaxis:{title:{text:"\uB0A8\uC740 \uAE30\uB825\uB7C9 (%)"},labels:{formatter:function(t){return Math.floor(t)}},min:0,max:150},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#FDD835"],opacityFrom:1,opacityTo:.01,stops:[0,100,100,100]}}},c=[{name:"\uB0A8\uC740 \uAE30\uB825\uB7C9",data:a.energyAxis}];return(t,k)=>{const l=Xe("apexchart");return L(),me(Ve,null,[e(Qe,{class:"bg-primary text-white text-center"},{default:o(()=>[e(Be,null,{default:o(()=>[N("\uAE30\uB825 \uBCC0\uD654 \uADF8\uB798\uD504")]),_:1})]),_:1}),i("div",Nt,[e(l,{ref_key:"energyChartRef",ref:g,class:"apexchart_width",type:"area",options:x,series:c},null,512),z(a).finalSkillProcH>0?(L(),be(j,{key:0},{default:o(()=>[e(D,{class:"bg-sSkill"},{default:o(()=>[i("div",Ht,[e(de,{size:"md",class:"shadow-1",color:"secondary","text-color":"white",icon:"priority_high"}),Mt,i("span",Rt,[N("\uC704 \uADF8\uB798\uD504\uB294 "+X(z(a).simulationCount)+"\uD68C \uBAA8\uC758\uC2DC\uD589\uC758 \uAE30\uB313\uAC12\uC785\uB2C8\uB2E4.",1),Vt,N("\uB9E4 \uC2DC\uD589\uB9C8\uB2E4 \uACB0\uACFC\uAC00 \uB2EC\uB77C\uC9C8 \uC218 \uC788\uC2B5\uB2C8\uB2E4.")])]),e(Z,{class:"full-width",rounded:"",label:"\uAE30\uB825 \uB2E4\uC2DC \uACC4\uC0B0\uD558\uAE30",icon:"restart_alt",color:"positive",onClick:n})]),_:1})]),_:1})):ee("",!0)])],64)}}}),Jt=Object.assign({name:"ResultPage"},{__name:"ResultPage",setup(pe){const G=Re(),a=we(),g=Ne(),n=pt(),x=m(!1);Ze(()=>{G.hasEssential()||(Ne().push("/prodcalc"),et("\uD3EC\uCF13\uBAAC \uC815\uBCF4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694"))}),tt(()=>{a.clearCalc()}),Ce(()=>{if(G.hasEssential())if(a.calcLoading){at("\uACC4\uC0B0 \uC911...");const l=n.platform.is.mobile?100:30;setTimeout(()=>{x.value=!0},l)}else x.value=!1,lt()});const c=m(1),t=m();function k(){a.clearCalc(),g.push("/prodcalc")}return(l,s)=>(L(),be(nt,{class:"row justify-center bg-googleDark relative-position"},{default:o(()=>[e(Ye,{modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=r=>c.value=r),ref_key:"stepper",ref:t,contracted:"",color:"primary","active-icon":"none",class:"col-xs-12 col-sm-9 col-md-8 col-lg-6 col-xl-6 bg-googleBack",animated:""},{navigation:o(()=>[e(Ke,{class:"row justify-between"},{default:o(()=>[e(Z,{push:"",icon:"refresh",color:"primary",onClick:k,label:"\uB2E4\uC2DC\uD558\uAE30","text-color":"white"}),i("div",null,[c.value>1?(L(),be(Z,{key:0,flat:"",color:"primary",onClick:s[0]||(s[0]=r=>t.value.previous()),label:"\uB4A4\uB85C",class:"q-ml-sm"})):ee("",!0),c.value<2?(L(),be(Z,{key:1,onClick:s[1]||(s[1]=r=>t.value.next()),color:"primary",label:"\uB2E4\uC74C"})):ee("",!0)])]),_:1})]),default:o(()=>[e(xe,{name:1,title:"\uC0DD\uC0B0\uB7C9 \uBCF4\uACE0\uC11C",icon:"assignment"},{default:o(()=>[e(Dt,{"start-load":x.value},null,8,["start-load"])]),_:1}),e(xe,{name:2,title:"\uAE30\uB825 \uADF8\uB798\uD504",icon:"favorite"},{default:o(()=>[e(Qt,{"start-load":x.value},null,8,["start-load"])]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{Jt as default};
